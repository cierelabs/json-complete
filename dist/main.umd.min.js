"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("json-complete",n):(void 0)["json-complete"]=n()}(0,function(){var e=function(e){return{e:e.substring(0,2),n:parseInt(e.substring(2),10)}},n=function(e){return p[e]&&!p[e].t},r={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},t=function(e,n){return n.u},u=function(e,n){return[n.o.map(function(n){return S(e,n)})]},o=function(e,n){return n.o=Array.from(new Uint8Array(n.u)),u(e,n)},i=function(e,n){n.i[0].forEach(function(r,t){n.u[t]=l(e,r)}),c(e,n)},f=function(e,n){return[S(e,n.u.valueOf())]},a=function(e,n,r){r.forEach(function(r){n.u[l(e,r[0])]=l(e,r[1])})},c=function(e,n){a(e,n,n.i.slice(1))},d=function(r,t){if(n(t))return p[t].f();var u=e(t);return p[u.e].a(r,u.e,u.n)},l=function(r,t){if(n(t))return p[t].f();var u=e(t);return p[u.e]?r.c[t].u:t},y=function(e){return function(n,r,t){return new e(d(n,n.d[r][t][0]))}},m=function(e){return function(n,r,t){var u=n.d[r][t][0],o=new e(u.length),i=new Uint8Array(o);return u.forEach(function(e,r){i[r]=d(n,e)}),o}},b=function(e){return function(n,r,t){return new e(n.d[r][t][0].length)}},s=function(e){return function(n,r){return[[void 0].concat(e.map(function(e){return S(n,r.u[e])}))]}},g=function(n,r,t){var u=new FileReader;u.addEventListener("loadend",function(){var o=new Uint8Array(u.result),i=S(n,o),f=e(i);n[f.e][f.n]=[Array.from(o).map(function(r){var t=S(n,r),u=e(t);return void 0===n[u.e][u.n]&&(n[u.e][u.n]=r),t})],n[r.e][r.n][0][0]=i,t()}),u.readAsArrayBuffer(r.u)},p={un:{f:function(){}},nl:{f:function(){return null}},na:{f:function(){return NaN}},nI:{f:function(){return-1/0}},pI:{f:function(){return 1/0}},n0:{f:function(){return-0}},bt:{f:function(){return!0}},bf:{f:function(){return!1}},nm:{l:"Number",t:t,a:function(e,n,r){return e.d[n][r]},f:t},st:{l:"String",t:t,a:function(e,n,r){return e.d[n][r]},f:t},sy:{l:"Symbol",t:function(e,n){var r=Symbol.keyFor(n.u),t=void 0!==r;return[S(e,t?1:0),S(e,t?r:String(n.u).replace(/^Symbol\(|\)$/g,""))]},a:function(e,n,r){var t=e.d[n][r],u=d(e,t[0]),o=d(e,t[1]);return 1===u?Symbol.for(o):Symbol(o)},f:t},ar:{l:"Array",t:u,a:function(){return[]},f:i},ag:{l:"Arguments",t:u,a:function(e,n,r){return function(){return arguments}.apply(null,Array.from({length:e.d[n][r][0].length},function(){}))},f:i},ob:{l:"Object",t:function(){return[]},a:function(){return{}},f:function(e,n){a(e,n,n.i)}},BO:{y:1,t:f,a:y(Boolean),f:c},NM:{t:f,a:y(Number),f:c},ST:{t:f,a:y(String),f:c},da:{l:"Date",t:function(e,n){return[S(e,n.u.getTime())]},a:y(Date),f:c},re:{l:"RegExp",t:function(e,n){return[[S(e,n.u.source),S(e,n.u.flags),S(e,n.u.lastIndex)]]},a:function(e,n,r){var t=e.d[n][r][0],u=new RegExp(d(e,t[0]),d(e,t[1]));return u.lastIndex=d(e,t[2]),u},f:c},er:{l:"Error",t:function(e,n){return[[S(e,r[n.u.name]?n.u.name:"Error"),S(e,n.u.message),S(e,n.u.stack)]]},a:function(e,n,t){var u=e.d[n][t][0],o=new(r[d(e,u[0])]||Error)(d(e,u[1]));return o.stack=d(e,u[2]),o},f:c},AB:{l:"ArrayBuffer",t:o,a:m(ArrayBuffer),f:c},SA:{l:"SharedArrayBuffer",t:o,a:m(SharedArrayBuffer),f:c},I1:{l:"Int8Array",t:u,a:b(Int8Array),f:i},U1:{l:"Uint8Array",t:u,a:b(Uint8Array),f:i},C1:{l:"Uint8ClampedArray",t:u,a:b(Uint8ClampedArray),f:i},U2:{l:"Uint16Array",t:u,a:b(Uint16Array),f:i},I2:{l:"Int16Array",t:u,a:b(Int16Array),f:i},I3:{l:"Int32Array",t:u,a:b(Int32Array),f:i},U3:{l:"Uint32Array",t:u,a:b(Uint32Array),f:i},F3:{l:"Float32Array",t:u,a:b(Float32Array),f:i},F4:{l:"Float64Array",t:u,a:b(Float64Array),f:i},Se:{l:"Set",t:function(e,n){return[Array.from(n.u).map(function(n){return S(e,n)})]},a:function(){return new Set},f:function(e,n){n.i[0].forEach(function(r){n.u.add(l(e,r))}),c(e,n)}},Ma:{l:"Map",t:function(e,n){return[Array.from(n.u).map(function(n){return[S(e,n[0]),S(e,n[1])]})]},a:function(){return new Map},f:function(e,n){n.i[0].forEach(function(r){n.u.set(l(e,r[0]),l(e,r[1]))}),c(e,n)}},Bl:{l:"Blob",t:s(["type"]),m:g,a:function(n,r,t){var u=n.d[r][t][0],o=e(u[0]);return new Blob([new Uint8Array(n.d[o.e][o.n][0].map(function(e){return d(n,e)}))],{type:d(n,u[1])})},f:c},Fi:{l:"File",t:s(["name","type","lastModified"]),m:g,a:function(n,r,t){var u=n.d[r][t][0],o=e(u[0]);return new File([new Uint8Array(n.d[o.e][o.n][0].map(function(e){return d(n,e)}))],d(n,u[1]),{type:d(n,u[2]),lastModified:d(n,u[3])})},f:c}},v=function(e){try{console.log(e)}catch(e){}},A={Boolean:"BO",Number:"NM",String:"ST"},R=function(e){if(void 0===e)return"un";if(null===e)return"nl";if(!0===e)return"bt";if(!1===e)return"bf";if("number"==typeof e){if(e===1/0)return"pI";if(e===-1/0)return"nI";if(e!=e)return"na";if(-0===e&&1/e==-1/0)return"n0"}var n=Object.prototype.toString.call(e).replace(/\[object |\]/g,"");if("object"===_typeof(e)){var r=A[n];if(r)return r}var t=Object.keys(p).find(function(e){if(n===p[e].l)return e});return t||(v('Unsupported type "'.concat(n,'". Value reference replaced with empty object:')),v(e),"ob")},N=function(e,r){void 0!==e._.b.get(r)||n(R(r))||e._.s.push(r)},S=function(e,r){var t=R(r);if(n(t))return t;var u=e._.b.get(r);if(void 0!==u)return u.g;e[t]=e[t]||[],e[t].push(void 0);var o=e[t].length-1,i={e:t,n:o,g:t+o,u:r,o:[],p:[]};e._.b.set(r,i),p[t].m&&e._.A.push(i);var f=function(e){var n=[],r={};Array.prototype.forEach.call(e,function(e,t){r[String(t)]=1,n.push(t)});var t=0,u=Object.keys(e).filter(function(e){return!r[e]}).concat(Object.getOwnPropertySymbols(e).filter(function(e){var n=String(e).match(/^Symbol\(Symbol\.([^\)]*)\)$/);return null===n||2!==n.length||Symbol[n[1]]!==e}));return n.concat(u).reduce(function(n,r){return r===t?(t+=1,n.o.push(e[r])):n.p.push([r,e[r]]),n},{o:[],p:[]})}(r),a=f.o,c=f.p;return p[t].y&&(a=[]),i.o=a,i.p=c,a.forEach(function(n){N(e,n)}),c.forEach(function(n){N(e,n[0]),N(e,n[1])}),i.g},V=function(e,n,r){delete e._,e.r=r,e.v="1.0.0";var t=Object.keys(e).map(function(n){return[n,e[n]]});if("function"!=typeof n)return t;n(t)},E=function(r,t){var u=e(t);if(p[u.e]&&void 0===r.c[t]&&!n(u.e)){var o={e:u.e,n:u.n,g:t,u:void 0,i:[]};r.c[t]=o,o.u=p[u.e].a(r,o.e,o.n),o.i=r.d[o.e][o.n],"ar"===R(o.i)&&function e(n,r){"ar"===R(r)?r.forEach(function(r){e(n,r)}):n.s.push(r)}(r,o.i)}};return{encode:function(e,r){var t={_:{b:new Map,s:[],A:[]}},u=R(e);if(n(u))return V(t,r,u);for(t._.s.push(e);t._.s.length;)S(t,t._.s.shift());if(t._.b.forEach(function(e){t[e.e][e.n]=p[e.e].t(t,e),e.p.length>0&&(t[e.e][e.n]=t[e.e][e.n].concat(e.p.map(function(e){return[S(t,e[0]),S(t,e[1])]})))}),0===t._.A.length)return V(t,r,t._.b.get(e).g);if("function"!=typeof r)throw"Callback function required when encoding deferred objects such as File and Blob.";var o=t._.A.length,i=function(){if(0==(o-=1))return V(t,r,t._.b.get(e).g)};t._.A.forEach(function(e){p[e.e].m(t,e,i)})},decode:function(r){var t={d:r.reduce(function(e,n){return e[n[0]]=n[1],e},{}),c:{},s:[]},u=e(t.d.r);if(!p[u.e])return t.d.r;if(n(u.e))return p[u.e].f();for(t.s.push(t.d.r);t.s.length;)E(t,t.s.shift());return Object.values(t.c).forEach(function(e){p[e.e].f(t,e)}),t.c[t.d.r].u}}});