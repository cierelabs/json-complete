"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var e=function(n,e,r){var t=new Error(n);return t.operation=e,t.type=r,t},r=function(n){return Object.prototype.toString.call(n).slice(8,-1)},t=function(n,e){var r=[],t={};Array.prototype.forEach.call(n,function(n,e){t[String(e)]=1,r.push(e)});var u=0,o=Object.keys(n).filter(function(n){return!t[n]});return e&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(n){return Symbol[String(n).slice(14,-1)]!==n}))),r.concat(o).reduce(function(e,r){return r===u?(u+=1,e.n.push(n[r])):e.e.push([r,n[r]]),e},{n:[],e:[]})},u={Boolean:"Bo",Number:"NU",String:"ST"},o=function(e,t){if(void 0===t)return"un";if(null===t)return"nl";if(!0===t)return"tr";if(!1===t)return"fa";if("number"==typeof t){if(t===1/0)return"pI";if(t===-1/0)return"nI";if(t!=t)return"Na";if(0===t&&1/t==-1/0)return"n0"}var o=r(t);return"object"===n(t)&&u[o]?u[o]:Object.keys(e).find(function(n){return o===e[n].t})},i=function(n,t){var u=o(n.u,t);if(!u&&!n.o){var i=r(t);throw e('Cannot encode unsupported type "'.concat(i,'".'),"encode",i)}return u||"Ob"},f=function(n,e){n.u[i(n,e)].i&&n.f.push(e)},c=function(n,e){var r=i(n,e);if(!n.u[r].i)return r;var u=n.c.get(e);if(void 0!==u)return u.a;n._[r]=n._[r]||[],n._[r].push(void 0);var o=n._[r].length-1,c=t(e,n.y),a={d:r,l:o,a:r+o,m:e,n:n.u[r].s?[]:c.n,e:c.e};return n.c.set(e,a),n.u[r].p&&n.b.push(a),a.n.forEach(function(e){f(n,e)}),a.e.forEach(function(e){f(n,e[0]),f(n,e[1])}),a.a},a=function(n,e){return[e.n.map(function(e){return c(n,e)})]},_=function(n){return{d:n.slice(0,2),l:parseInt(n.slice(2),10)}},y=function(n,e){if(n.u[e])return n.u[e].g;var r=_(e);return n.u[r.d]?n.A[e].m:e},d=function(n,e,r){r.forEach(function(r){e.m[y(n,r[0])]=y(n,r[1])})},l=function(n,e){d(n,e,e.S.slice(1))},m=function(n,e){if(n.u[e])return n.u[e].g;var r=_(e);return n.u[r.d].R(n,r.d,r.l)},s=function(n){return{t:r(new n),w:function(n,e){return e.n=Array.prototype.slice.call(new Uint8Array(e.m)),a(n,e)},R:function(e,r,t){var u=e.N[r][t][0],o=new n(u.length),i=new Uint8Array(o);return u.forEach(function(n,r){i[r]=m(e,n)}),o},i:l}},p=function(n){return"function"==typeof ArrayBuffer&&(n.AB=s(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(n.Sh=s(SharedArrayBuffer)),n},b=function(n,e){e.S[0].forEach(function(r,t){e.m[t]=y(n,r)}),l(n,e)},v=function(n){return n.Ar={t:"Array",w:a,R:function(){return[]},i:b},n.rg={t:"Arguments",w:a,R:function(n,e,r){return function(){return arguments}.apply(null,Array(n.N[e][r][0].length))},i:b},n},g=function(n){return n.St={s:1,t:"String",w:function(n,e){return e.m},R:function(n,e,r){return n.N[e][r]},i:function(){}},n.Nu={t:"Number",w:function(n,e){return c(n,String(e.m))},R:function(n,e,r){return parseFloat(m(n,n.N[e][r]))},i:function(){}},n},A=function(n){return"function"==typeof BigInt&&(n.Bi={t:"BigInt",w:function(n,e){return c(n,String(e.m))},R:function(n,e,r){return BigInt(m(n,n.N[e][r]))},i:function(){}}),n},S=function(n,e,r){return{t:n,p:function(n,e,r){var t=new FileReader;t.addEventListener("loadend",function(){e.V=c(n,new Uint8Array(t.result)),r()}),t.readAsArrayBuffer(e.m)},w:function(n,r){return[[r.V].concat(e.map(function(e){return c(n,r.m[e])}))]},R:function(n,e,t){var u=n.N[e][t][0],o=_(u[0]);return r(n,[new Uint8Array(n.N[o.d][o.l][0].map(function(e){return m(n,e)}))],u)},i:l}},R=function(n){return"function"==typeof Blob&&(n.Bl=S("Blob",["type"],function(n,e,r){return new Blob(e,{type:m(n,r[1])})})),"function"==typeof File&&(n.Fi=S("File",["name","type","lastModified"],function(n,e,r){return new File(e,m(n,r[1]),{type:m(n,r[2]),lastModified:m(n,r[3])})})),n},w=function(n){return n.Da={t:"Date",w:function(n,e){return[c(n,e.m.valueOf())]},R:function(n,e,r){return new Date(m(n,n.N[e][r][0]))},i:l},n},N={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},E=function(n){return n.Er={t:"Error",w:function(n,e){return[[c(n,N[e.m.name]?e.m.name:"Error"),c(n,e.m.message),c(n,e.m.stack)]]},R:function(n,e,r){var t=n.N[e][r][0],u=new(N[m(n,t[0])]||Error)(m(n,t[1]));return u.stack=m(n,t[2]),u},i:l},n},V=function(n){return"function"==typeof Set&&(n.Se={t:"Set",w:function(n,e){return[Array.from(e.m).map(function(e){return c(n,e)})]},R:function(){return new Set},i:function(n,e){e.S[0].forEach(function(r){e.m.add(y(n,r))}),l(n,e)}},n.Ma={t:"Map",w:function(n,e){return[Array.from(e.m).map(function(e){return[c(n,e[0]),c(n,e[1])]})]},R:function(){return new Map},i:function(n,e){e.S[0].forEach(function(r){e.m.set(y(n,r[0]),y(n,r[1]))}),l(n,e)}}),n},B=function(n){return n.Ob={t:"Object",w:function(){return[]},R:function(){return{}},i:function(n,e){d(n,e,e.S)}},n},I=function(n){return n.Re={t:"RegExp",w:function(n,e){var r=e.m;return[[c(n,r.source),c(n,void 0===r.flags?r.options:r.flags),c(n,r.lastIndex)]]},R:function(n,e,r){var t=n.N[e][r][0],u=new RegExp(m(n,t[0]),m(n,t[1]));return u.lastIndex=m(n,t[2]),u},i:l},n},h=function(n){return n.un={g:void 0},n.nl={g:null},n.tr={g:!0},n.fa={g:!1},n.pI={g:1/0},n.nI={g:-1/0},n.Na={g:NaN},n.n0={g:-0},n},U=function(n){return"function"==typeof Symbol&&(n.Sy={t:"Symbol",w:function(n,e){var r=Symbol.keyFor(e.m),t=void 0!==r;return[c(n,!!t),c(n,t?r:String(e.m).slice(7,-1))]},R:function(n,e,r){var t=n.N[e][r],u=m(n,t[1]);return m(n,t[0])?Symbol.for(u):Symbol(u)},i:function(){}}),n},F=function(n){return{t:r(new n),w:a,R:function(e,r,t){return new n(e.N[r][t][0].length)},i:b}},j=function(n){return"function"==typeof Int8Array&&(n.I1=F(Int8Array),n.I2=F(Int16Array),n.I3=F(Int32Array),n.U1=F(Uint8Array),n.U2=F(Uint16Array),n.U3=F(Uint32Array),n.F3=F(Float32Array)),"function"==typeof Uint8ClampedArray&&(n.C1=F(Uint8ClampedArray)),"function"==typeof Float64Array&&(n.F4=F(Float64Array)),n},x=function(n){return{t:"",w:function(n,e){return[c(n,e.m.valueOf())]},R:function(e,r,t){return new n(m(e,e.N[r][t][0]))},i:l}},O=function(n){return n.Bo=x(Boolean),n.NU=x(Number),n.ST=x(String),n.ST.s=1,n},C={},M=C=A(C=R(C=p(C=j(C=V(C=U(C=E(C=I(C=w(C=B(C=v(C=O(C=g(C=h(C)))))))))))))),k=function(n,e){n.c.forEach(function(e){n._[e.d][e.l]=M[e.d].w(n,e),e.e.length>0&&(n._[e.d][e.l]=n._[e.d][e.l].concat(e.e.map(function(e){return[c(n,e[0]),c(n,e[1])]})))}),n._.r=e,n._.v="1.0.0";var r=Object.keys(n._).map(function(e){return[e,n._[e]]});if("function"!=typeof n.B)return r;n.B(r)},z=function(n,r){var t={o:(r=r||{}).safeMode,y:r.encodeSymbolKeys,B:r.onFinish,u:M,c:new Map,f:[],b:[],_:{}},u=c(t,n);if(M[u])return k(t,u);for(t.f.push(n);t.f.length;)c(t,t.f.shift());if(!(t.b.length>0))return k(t,u);if("function"!=typeof r.onFinish){if(t.o)return k(t,u);throw e("Found deferred type, but no onFinish option provided.","encode")}var o=t.b.length,i=function(){if(0===(o-=1))return k(t,u)};t.b.forEach(function(n){M[n.d].p(t,n,i)})},T=function n(e,t){"Array"===r(t)?t.forEach(function(r){n(e,r)}):e.f.push(t)},D=function(n,t){var u=_(t);if(!M[u.d]){if(n.o)return;throw e('Cannot decode unrecognized pointer type "'.concat(u.d,'".'),"decode",u.d)}if(!M[t]&&void 0===n.A[t]){n.A[t]={d:u.d,l:u.l,a:t,m:void 0,S:n.N[u.d][u.l]};try{n.A[t].m=M[u.d].R(n,u.d,u.l)}catch(n){throw e('Cannot generate recognized object type from pointer type "'.concat(u.d,'".'),"decode")}"Array"===r(n.A[t].S)&&T(n,n.A[t].S)}},K=function(n,r){var t={o:(r=r||{}).safeMode,u:M,N:n.reduce(function(n,e){return n[e[0]]=e[1],n},{}),A:{},f:[]},u=t.N.r;if(M[u])return M[u].g;var o=_(u);if(!M[o.d]){if(t.o)return u;throw e('Cannot decode unrecognized pointer type "'.concat(o.d,'".'),"decode",o.d)}for(t.f.push(u);t.f.length;)D(t,t.f.shift());return Object.values(t.A).forEach(function(n){M[n.d].i(t,n)}),t.A[u].m},q={encode:z,decode:K};module.exports=q;