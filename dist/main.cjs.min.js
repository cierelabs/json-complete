"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}var r=function(n){return Object.prototype.toString.call(n).slice(8,-1)},e=function(n){var r=[],e={};Array.prototype.forEach.call(n,function(n,t){e[String(t)]=1,r.push(t)});var t=0,u=Object.keys(n).filter(function(n){return!e[n]}).concat(Object.getOwnPropertySymbols(n).filter(function(n){return Symbol[String(n).slice(14,-1)]!==n}));return r.concat(u).reduce(function(r,e){return e===t?(t+=1,r.n.push(n[e])):r.e.push([e,n[e]]),r},{n:[],e:[]})},t=function(n,e){var t=Object.keys(n.t).find(function(r){return n.t[r].u(e)});if(!t&&!n.i)throw new Error('Cannot encode unsupported type "'.concat(r(e),'".'));return t||"ob"},u=function(n,r){(n.t[t(n,r)]||{}).o&&n.f.push(r)},i=function(n,r){var i=t(n,r);if(!n.t[i].o)return i;var o=n.c.get(r);if(void 0!==o)return o.a;n.d[i]=n.d[i]||[],n.d[i].push(void 0);var f=n.d[i].length-1,c=e(r),a={y:i,l:f,a:i+f,_:r,n:n.t[i].p?[]:c.n,e:c.e};return n.c.set(r,a),n.t[i].A&&n.b.push(a),a.n.forEach(function(r){u(n,r)}),a.e.forEach(function(r){u(n,r[0]),u(n,r[1])}),a.a},o=function(n){return{u:function(r){return r===n},S:n}},f=o(void 0),c=o(null),a={u:function(n){return n!=n},S:NaN},d=o(1/0),y=o(-1/0),l={u:function(n){return 0===n&&1/n==-1/0},S:-0},_=o(!0),p=o(!1),A=function(n){return{y:n.slice(0,2),l:parseInt(n.slice(2),10)}},b=function(n,r){if(n.t[r])return n.t[r].S;var e=A(r);return n.t[e.y].g(n,e.y,e.l)},v=function(n,e,t,u){return{u:function(t){return r(t)===n&&!(t instanceof e)},m:t,g:u,o:function(){}}},S=v("Number",Number,function(n,r){return i(n,String(r._))},function(n,r,e){return parseFloat(b(n,n.s[r][e]))}),g=Object.assign({p:1},v("String",String,function(n,r){return r._},function(n,r,e){return n.s[r][e]})),m=function(n){return function(e){return r(e)===n}},s=function(n,r){return"function"===n?r():{u:function(){}}},I=s("undefined"==typeof Symbol?"undefined":n(Symbol),function(){return{u:m("Symbol"),m:function(n,r){var e=Symbol.keyFor(r._),t=void 0!==e;return[i(n,!!t),i(n,t?e:String(r._).slice(7,-1))]},g:function(n,r,e){var t=n.s[r][e],u=b(n,t[1]);return b(n,t[0])?Symbol.for(u):Symbol(u)},o:function(){}}}),U=function(n,r){return[r.n.map(function(r){return i(n,r)})]},E=function(n,r){if(n.t[r])return n.t[r].S;var e=A(r);if(n.t[e.y])return n.I[r]._;if(n.i)return r;throw new Error('Cannot decode unrecognized pointer type "'.concat(e.y,'".'))},B=function(n,r,e){e.forEach(function(e){r._[E(n,e[0])]=E(n,e[1])})},w=function(n,r){B(n,r,r.U.slice(1))},F=function(n,r){return{u:m(n),m:U,g:r,o:function(n,r){r.U[0].forEach(function(e,t){r._[t]=E(n,e)}),w(n,r)}}},R=F("Array",function(){return[]}),h=F("Arguments",function(n,r,e){return function(){return arguments}.apply(null,Array(n.s[r][e][0].length))}),O={u:m("Object"),m:function(){return[]},g:function(){return{}},o:function(n,r){B(n,r,r.U)}},j=function(n,e){return{u:function(t){return r(t)===n&&t instanceof e},m:function(n,r){return[i(n,r._.valueOf())]},g:function(n,r,t){return new e(b(n,n.s[r][t][0]))},o:w}},x=j("Boolean",Boolean),M=j("Number",Number),V=Object.assign({p:1},j("String",String)),C=j("Date",Date),N=function(n,r,e){return{u:m(n),m:r,g:e,o:w}},k=N("RegExp",function(n,r){return[[i(n,r._.source),i(n,r._.flags),i(n,r._.lastIndex)]]},function(n,r,e){var t=n.s[r][e][0],u=new RegExp(b(n,t[0]),b(n,t[1]));return u.lastIndex=b(n,t[2]),u}),T={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},z=N("Error",function(n,r){return[[i(n,T[r._.name]?r._.name:"Error"),i(n,r._.message),i(n,r._.stack)]]},function(n,r,e){var t=n.s[r][e][0],u=new(T[b(n,t[0])]||Error)(b(n,t[1]));return u.stack=b(n,t[2]),u}),D=function(n,r){return{u:m(n),m:function(n,r){return r.n=Array.from(new Uint8Array(r._)),U(n,r)},g:function(n,e,t){var u=n.s[e][t][0],i=new r(u.length),o=new Uint8Array(i);return u.forEach(function(r,e){o[e]=b(n,r)}),i},o:w}},q=s("undefined"==typeof ArrayBuffer?"undefined":n(ArrayBuffer),function(){return D("ArrayBuffer",ArrayBuffer)}),G=s("undefined"==typeof SharedArrayBuffer?"undefined":n(SharedArrayBuffer),function(){return D("SharedArrayBuffer",SharedArrayBuffer)}),H=function(n,r){return F(n,function(n,e,t){return new r(n.s[e][t][0].length)})},J=s("undefined"==typeof Int8Array?"undefined":n(Int8Array),function(){return H("Int8Array",Int8Array)}),K=s("undefined"==typeof Uint8Array?"undefined":n(Uint8Array),function(){return H("Uint8Array",Uint8Array)}),L=s("undefined"==typeof Uint8ClampedArray?"undefined":n(Uint8ClampedArray),function(){return H("Uint8ClampedArray",Uint8ClampedArray)}),P=s("undefined"==typeof Int16Array?"undefined":n(Int16Array),function(){return H("Int16Array",Int16Array)}),Q=s("undefined"==typeof Uint16Array?"undefined":n(Uint16Array),function(){return H("Uint16Array",Uint16Array)}),W=s("undefined"==typeof Int32Array?"undefined":n(Int32Array),function(){return H("Int32Array",Int32Array)}),X=s("undefined"==typeof Uint32Array?"undefined":n(Uint32Array),function(){return H("Uint32Array",Uint32Array)}),Y=s("undefined"==typeof Float32Array?"undefined":n(Float32Array),function(){return H("Float32Array",Float32Array)}),Z=s("undefined"==typeof Float64Array?"undefined":n(Float64Array),function(){return H("Float64Array",Float64Array)}),$=function(n,r,e,t){return{u:m(n),m:function(n,r){return[Array.from(r._).map(function(r){return e(n,r)})]},g:function(){return new r},o:function(n,r){r.U[0].forEach(function(e){t(n,r._,e)}),w(n,r)}}},nn=s("undefined"==typeof Set?"undefined":n(Set),function(){return $("Set",Set,function(n,r){return i(n,r)},function(n,r,e){r.add(E(n,e))})}),rn=s("undefined"==typeof Map?"undefined":n(Map),function(){return $("Map",Map,function(n,r){return[i(n,r[0]),i(n,r[1])]},function(n,r,e){r.set(E(n,e[0]),E(n,e[1]))})}),en=function(n,r,e){return{u:m(n),A:function(n,r,e){var t=new FileReader;t.addEventListener("loadend",function(){r.B=i(n,new Uint8Array(t.result)),e()}),t.readAsArrayBuffer(r._)},m:function(n,e){return[[e.B].concat(r.map(function(r){return i(n,e._[r])}))]},g:function(n,r,t){var u=n.s[r][t][0],i=A(u[0]);return e(n,[new Uint8Array(n.s[i.y][i.l][0].map(function(r){return b(n,r)}))],u)},o:w}},tn=s("undefined"==typeof Blob?"undefined":n(Blob),function(){return en("Blob",["type"],function(n,r,e){return new Blob(r,{type:b(n,e[1])})})}),un=s("undefined"==typeof File?"undefined":n(File),function(){return en("File",["name","type","lastModified"],function(n,r,e){return new File(r,b(n,e[1]),{type:b(n,e[2]),lastModified:b(n,e[3])})})}),on=s("undefined"==typeof BigInt?"undefined":n(BigInt),function(){return v("BigInt",BigInt,function(n,r){return i(n,String(r._))},function(n,r,e){return BigInt(b(n,n.s[r][e]))})}),fn={un:f,nl:c,na:a,pI:d,nI:y,n0:l,bt:_,bf:p,nm:S,st:g,sy:I,ar:R,ag:h,ob:O,BO:x,NM:M,ST:V,da:C,re:k,er:z,AB:q,SA:G,I1:J,U1:K,C1:L,I2:P,U2:Q,I3:W,U3:X,F3:Y,F4:Z,Se:nn,Ma:rn,Bl:tn,Fi:un,BI:on},cn=function(n,r){n.c.forEach(function(r){n.d[r.y][r.l]=fn[r.y].m(n,r),r.e.length>0&&(n.d[r.y][r.l]=n.d[r.y][r.l].concat(r.e.map(function(r){return[i(n,r[0]),i(n,r[1])]})))}),n.d.r=r,n.d.v="1.0.0";var e=Object.keys(n.d).map(function(r){return[r,n.d[r]]});if("function"!=typeof n.w)return e;n.w(e)},an=function(n,r){var e={i:(r=r||{}).safeMode,w:r.onFinish,t:fn,c:new Map,f:[],b:[],d:{}},t=i(e,n);if(fn[t])return cn(e,t);for(e.f.push(n);e.f.length;)i(e,e.f.shift());if(!(e.b.length>0))return cn(e,t);if("function"!=typeof r.onFinish){if(e.i)return cn(e,t);throw new Error("Found deferred type, but no onFinish option provided.")}var u=e.b.length,o=function(){if(0===(u-=1))return cn(e,t)};e.b.forEach(function(n){fn[n.y].A(e,n,o)})},dn=function n(e,t){"Array"===r(t)?t.forEach(function(r){n(e,r)}):e.f.push(t)},yn=function(n,e){var t=A(e);!fn[e]&&fn[t.y]&&void 0===n.I[e]&&(n.I[e]={y:t.y,l:t.l,a:e,_:void 0,U:n.s[t.y][t.l]},n.I[e]._=fn[t.y].g(n,t.y,t.l),"Array"===r(n.I[e].U)&&dn(n,n.I[e].U))},ln=function(n,r){var e={i:(r=r||{}).safeMode,t:fn,s:n.reduce(function(n,r){return n[r[0]]=r[1],n},{}),I:{},f:[]},t=e.s.r;if(fn[t])return fn[t].S;var u=A(t);if(!fn[u.y]){if(e.i)return t;throw new Error('Cannot decode unrecognized pointer type "'.concat(u.y,'".'))}for(e.f.push(t);e.f.length;)yn(e,e.f.shift());return Object.values(e.I).forEach(function(n){fn[n.y].o(e,n)}),e.I[t]._},_n={encode:an,decode:ln};module.exports=_n;