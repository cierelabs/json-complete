"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}var r=function(n){return Object.prototype.toString.call(n).slice(8,-1)},e=function(n){var r=[],e={};Array.prototype.forEach.call(n,function(n,t){e[String(t)]=1,r.push(t)});var t=0,u=Object.keys(n).filter(function(n){return!e[n]}).concat(Object.getOwnPropertySymbols(n).filter(function(n){return Symbol[String(n).slice(14,-1)]!==n}));return r.concat(u).reduce(function(r,e){return e===t?(t+=1,r.n.push(n[e])):r.e.push([e,n[e]]),r},{n:[],e:[]})},t=function(n,e){var t=Object.keys(n.t).find(function(r){return n.t[r].u(e)});if(!t&&!n.i)throw new Error('Cannot encode unsupported type "'.concat(r(e),'".'));return t||"ob"},u=function(n,r){(n.t[t(n,r)]||{}).o&&n.f.push(r)},i=function(n,r){var i=t(n,r);if(!n.t[i].o)return i;var o=n.c.get(r);if(void 0!==o)return o.a;n.d[i]=n.d[i]||[],n.d[i].push(void 0);var f=n.d[i].length-1,c=e(r),a={y:i,_:f,a:i+f,l:r,n:n.t[i].p?[]:c.n,e:c.e};return n.c.set(r,a),n.t[i].A&&n.b.push(a),a.n.forEach(function(r){u(n,r)}),a.e.forEach(function(r){u(n,r[0]),u(n,r[1])}),a.a},o=function(n){return{u:function(r){return r===n},S:n}},f=o(void 0),c=o(null),a={u:function(n){return n!=n},S:NaN},d=o(1/0),y=o(-1/0),_={u:function(n){return 0===n&&1/n==-1/0},S:-0},l=o(!0),p=o(!1),A=function(n,e){return{u:function(t){return r(t)===n&&!(t instanceof e)},m:function(n,r){return r.l},s:function(n,r,e){return n.g[r][e]},o:function(){}}},b=A("Number",Number),v=Object.assign({p:1},A("String",String)),S=function(n){return{y:n.slice(0,2),_:parseInt(n.slice(2),10)}},m=function(n,r){if(n.t[r])return n.t[r].S;var e=S(r);return n.t[e.y].s(n,e.y,e._)},s=function(n){return function(e){return r(e)===n}},g=function(n,r){return"function"===n?r():{u:function(){}}},U=g("undefined"==typeof Symbol?"undefined":n(Symbol),function(){return{u:s("Symbol"),m:function(n,r){var e=Symbol.keyFor(r.l),t=void 0!==e;return[i(n,!!t),i(n,t?e:String(r.l).slice(7,-1))]},s:function(n,r,e){var t=n.g[r][e],u=m(n,t[1]);return m(n,t[0])?Symbol.for(u):Symbol(u)},o:function(){}}}),E=function(n,r){return[r.n.map(function(r){return i(n,r)})]},w=function(n,r){if(n.t[r])return n.t[r].S;var e=S(r);if(n.t[e.y])return n.U[r].l;if(n.i)return r;throw new Error('Cannot decode unrecognized pointer type "'.concat(e.y,'".'))},I=function(n,r,e){e.forEach(function(e){r.l[w(n,e[0])]=w(n,e[1])})},F=function(n,r){I(n,r,r.w.slice(1))},R=function(n,r){return{u:s(n),m:E,s:r,o:function(n,r){r.w[0].forEach(function(e,t){r.l[t]=w(n,e)}),F(n,r)}}},B=R("Array",function(){return[]}),h=R("Arguments",function(n,r,e){return function(){return arguments}.apply(null,Array(n.g[r][e][0].length))}),O={u:s("Object"),m:function(){return[]},s:function(){return{}},o:function(n,r){I(n,r,r.w)}},j=function(n,e){return{u:function(t){return r(t)===n&&t instanceof e},m:function(n,r){return[i(n,r.l.valueOf())]},s:function(n,r,t){return new e(m(n,n.g[r][t][0]))},o:F}},x=j("Boolean",Boolean),M=j("Number",Number),V=Object.assign({p:1},j("String",String)),C=j("Date",Date),N=function(n,r,e){return{u:s(n),m:r,s:e,o:F}},k=N("RegExp",function(n,r){return[[i(n,r.l.source),i(n,r.l.flags),i(n,r.l.lastIndex)]]},function(n,r,e){var t=n.g[r][e][0],u=new RegExp(m(n,t[0]),m(n,t[1]));return u.lastIndex=m(n,t[2]),u}),T={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},z=N("Error",function(n,r){return[[i(n,T[r.l.name]?r.l.name:"Error"),i(n,r.l.message),i(n,r.l.stack)]]},function(n,r,e){var t=n.g[r][e][0],u=new(T[m(n,t[0])]||Error)(m(n,t[1]));return u.stack=m(n,t[2]),u}),D=function(n,r){return{u:s(n),m:function(n,r){return r.n=Array.from(new Uint8Array(r.l)),E(n,r)},s:function(n,e,t){var u=n.g[e][t][0],i=new r(u.length),o=new Uint8Array(i);return u.forEach(function(r,e){o[e]=m(n,r)}),i},o:F}},q=g("undefined"==typeof ArrayBuffer?"undefined":n(ArrayBuffer),function(){return D("ArrayBuffer",ArrayBuffer)}),G=g("undefined"==typeof SharedArrayBuffer?"undefined":n(SharedArrayBuffer),function(){return D("SharedArrayBuffer",SharedArrayBuffer)}),H=function(n,r){return R(n,function(n,e,t){return new r(n.g[e][t][0].length)})},J=g("undefined"==typeof Int8Array?"undefined":n(Int8Array),function(){return H("Int8Array",Int8Array)}),K=g("undefined"==typeof Uint8Array?"undefined":n(Uint8Array),function(){return H("Uint8Array",Uint8Array)}),L=g("undefined"==typeof Uint8ClampedArray?"undefined":n(Uint8ClampedArray),function(){return H("Uint8ClampedArray",Uint8ClampedArray)}),P=g("undefined"==typeof Int16Array?"undefined":n(Int16Array),function(){return H("Int16Array",Int16Array)}),Q=g("undefined"==typeof Uint16Array?"undefined":n(Uint16Array),function(){return H("Uint16Array",Uint16Array)}),W=g("undefined"==typeof Int32Array?"undefined":n(Int32Array),function(){return H("Int32Array",Int32Array)}),X=g("undefined"==typeof Uint32Array?"undefined":n(Uint32Array),function(){return H("Uint32Array",Uint32Array)}),Y=g("undefined"==typeof Float32Array?"undefined":n(Float32Array),function(){return H("Float32Array",Float32Array)}),Z=g("undefined"==typeof Float64Array?"undefined":n(Float64Array),function(){return H("Float64Array",Float64Array)}),$=function(n,r,e,t){return{u:s(n),m:function(n,r){return[Array.from(r.l).map(function(r){return e(n,r)})]},s:function(){return new r},o:function(n,r){r.w[0].forEach(function(e){t(n,r.l,e)}),F(n,r)}}},nn=g("undefined"==typeof Set?"undefined":n(Set),function(){return $("Set",Set,function(n,r){return i(n,r)},function(n,r,e){r.add(w(n,e))})}),rn=g("undefined"==typeof Map?"undefined":n(Map),function(){return $("Map",Map,function(n,r){return[i(n,r[0]),i(n,r[1])]},function(n,r,e){r.set(w(n,e[0]),w(n,e[1]))})}),en=function(n,r,e){return{u:s(n),m:function(n,e){return[[new Uint8Array(0)].concat(r.map(function(r){return i(n,e.l[r])}))]},A:function(n,r,e){var t=new FileReader;t.addEventListener("loadend",function(){var u=new Uint8Array(t.result),o=i(n,u),f=S(o);n.d[f.y][f._]=[Array.from(u).map(function(r){var e=i(n,r),t=S(e);return n.d[t.y][t._]=r,e})],n.d[r.y][r._][0][0]=o,e()}),t.readAsArrayBuffer(r.l)},s:function(n,r,t){var u=n.g[r][t][0],i=S(u[0]);return e(n,[new Uint8Array(n.g[i.y][i._][0].map(function(r){return m(n,r)}))],u)},o:F}},tn=g("undefined"==typeof Blob?"undefined":n(Blob),function(){return en("Blob",["type"],function(n,r,e){return new Blob(r,{type:m(n,e[1])})})}),un=g("undefined"==typeof File?"undefined":n(File),function(){return en("File",["name","type","lastModified"],function(n,r,e){return new File(r,m(n,e[1]),{type:m(n,e[2]),lastModified:m(n,e[3])})})}),on={un:f,nl:c,na:a,pI:d,nI:y,n0:_,bt:l,bf:p,nm:b,st:v,sy:U,ar:B,ag:h,ob:O,BO:x,NM:M,ST:V,da:C,re:k,er:z,AB:q,SA:G,I1:J,U1:K,C1:L,I2:P,U2:Q,I3:W,U3:X,F3:Y,F4:Z,Se:nn,Ma:rn,Bl:tn,Fi:un},fn=function(n,r){n.d.r=r,n.d.v="1.0.0";var e=Object.keys(n.d).map(function(r){return[r,n.d[r]]});if("function"!=typeof n.I)return e;n.I(e)},cn=function(n,r){var e={i:(r=r||{}).safeMode,I:r.onFinish,t:on,c:new Map,f:[],b:[],d:{}},t=i(e,n);if(on[t])return fn(e,t);for(e.f.push(n);e.f.length;)i(e,e.f.shift());if(e.c.forEach(function(n){e.d[n.y][n._]=on[n.y].m(e,n),n.e.length>0&&(e.d[n.y][n._]=e.d[n.y][n._].concat(n.e.map(function(n){return[i(e,n[0]),i(e,n[1])]})))}),!(e.b.length>0))return fn(e,t);if("function"!=typeof r.onFinish){if(e.i)return fn(e,t);throw new Error("Found deferred type, but no onFinish option provided.")}var u=e.b.length,o=function(){if(0===(u-=1))return fn(e,t)};e.b.forEach(function(n){on[n.y].A(e,n,o)})},an=function n(e,t){"Array"===r(t)?t.forEach(function(r){n(e,r)}):e.f.push(t)},dn=function(n,e){var t=S(e);!on[e]&&on[t.y]&&void 0===n.U[e]&&(n.U[e]={y:t.y,_:t._,a:e,l:void 0,w:n.g[t.y][t._]},n.U[e].l=on[t.y].s(n,t.y,t._),"Array"===r(n.U[e].w)&&an(n,n.U[e].w))},yn=function(n,r){var e={i:(r=r||{}).safeMode,t:on,g:n.reduce(function(n,r){return n[r[0]]=r[1],n},{}),U:{},f:[]},t=e.g.r;if(on[t])return on[t].S;var u=S(t);if(!on[u.y]){if(e.i)return t;throw new Error('Cannot decode unrecognized pointer type "'.concat(u.y,'".'))}for(e.f.push(t);e.f.length;)dn(e,e.f.shift());return Object.values(e.U).forEach(function(n){on[n.y].o(e,n)}),e.U[t].l},_n={encode:cn,decode:yn};module.exports=_n;