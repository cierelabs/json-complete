/* @license BSL-1.0 https://git.io/fpQEc */
var e=e=>{const r=e.split(/([A-Z$_]+)/);return{e:r[1],r:Number(r[2])}},r="0123456789abcdefghijklmnopqrstuvwxyz!#%&'()*+-./:;<=>?@[]^`{|}~";const n=r.length;var t=e=>{let t="";do{t=r[e%n]+t,e=Math.floor(e/n)}while(e);return t},o=(r,n,o)=>o[r]&&0!==o[r].n?1===o[r].n?n.join(","):n.map(r=>r.map(r=>r.map(r=>{const n=e(r);return n.e+t(n.r)}).join("")).join(" ")).join(","):n,c=e=>Object.prototype.toString.call(e).slice(8,-1),a=(e,r)=>{if(void 0===r)return"K";if(null===r)return"L";if(!0===r)return"T";if(!1===r)return"F";if("number"==typeof r){if(r===1/0)return"I";if(r===-1/0)return"J";if(r!=r)return"C";if(0===r&&1/r==-1/0)return"M"}if("function"==typeof Set&&r instanceof Set)return"U";if("function"==typeof Map&&r instanceof Map)return"V";let n=c(r);const t=e.t[n];return t&&"object"==typeof r&&(n=t),e.o[n]};const i=e=>{if("function"!=typeof Map||"Map"!==c(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==c(Symbol())||!e)return!0;const r={};r[Symbol()]=1;const n=new Map;for(let e=0;e<50;e+=1)n.set(Object.getOwnPropertySymbols(r)[0],{});return 1===n.size};var u=e=>{if(i(e)){const e=new Map;return{c:r=>e.get(r),a:(r,n)=>{e.set(r,n)},i:(r,n)=>{n=n||0;let t=0;return e.forEach(e=>{t>=n&&r(e),t+=1}),t}}}const r=[],n=[];return{c:e=>{for(let t=0;t<r.length;t+=1)if(r[t]===e)return n[t]},a:(e,t)=>{r.push(e),n.push(t)},i:(e,r)=>{let t;for(t=r||0;t<n.length;t+=1)e(n[t]);return t}}},y=(e,r)=>{const n=[],t={};Array.prototype.forEach.call(e,(e,r)=>{t[String(r)]=1,n.push(r)});let o=Object.keys(e).filter(e=>!t[e]);r&&"function"==typeof Symbol&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e)));let c=0;return n.concat(o).reduce((r,n)=>(n===c?(c+=1,r.u.push(e[n])):(r.y.push(n),r.f.push(e[n])),r),{u:[],y:[],f:[]})},f=(r,n)=>{if(r.s[n])return r.s[n].p;const t=e(n);return r.s[t.e]?r.d[n].l:n},s=(e,r)=>{for(let n=0;n<r.m[0].length;n+=1)r.l[n]=f(e,r.m[0][n])},_=(r,n,t,o)=>{for(let c=0;c<(n.m[t]||[]).length;c+=1){const a=n.m[t][c];r.b&&"function"!=typeof Symbol&&"P"===e(a).e||(n.l[f(r,a)]=f(r,n.m[o][c]))}},p=(r,n)=>{if(r.s[n])return r.s[n].p;const t=e(n);return r.s[t.e].g(r,r.w[t.e][t.r])},l=(e,r)=>0===r.y.length?e:e.concat([r.y,r.f]);const d=e=>({v:c(new e),n:2,h:(e,r)=>l([Array.prototype.slice.call(new Uint8Array(e))],r),g:(r,n)=>{const t=n[0],o=new e(t.length),c=new Uint8Array(o);return t.forEach((e,n)=>{c[n]=p(r,e)}),o},x:(e,r)=>{s(e,r),_(e,r,1,2)}});var m=e=>("function"==typeof ArrayBuffer&&(e.W=d(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(e.X=d(SharedArrayBuffer)),e),b=e=>(e.A={v:"Array",n:2,h:(e,r)=>l([r.u],r),g:()=>[],x:(e,r)=>{s(e,r),_(e,r,1,2)}},e.Q={v:"Arguments",n:2,h:(e,r)=>l([r.u],r),g:(e,r)=>(function(){return arguments}).apply(null,Array(r[0].length)),x:(e,r)=>{s(e,r),_(e,r,1,2)}},e),g=(e,r)=>({v:c(e("")),n:r||0,j:1,h:e=>String(e),g:(r,n)=>e(n),x:()=>{}}),A=e=>(e.S=g(String),e.N=g(Number,1),e),w=e=>({v:c(new e),n:2,h:(e,r)=>l([r.u],r),g:(r,n)=>new e(n[0].length),x:(e,r)=>{s(e,r),_(e,r,1,2)}}),v=e=>("function"==typeof BigInt&&(e._=g(BigInt,1)),"function"==typeof BigInt64Array&&(e.BI=w(BigInt64Array)),"function"==typeof BigUint64Array&&(e.BU=w(BigUint64Array)),e);const S=(r,n,t)=>({v:r,n:2,h:(e,r)=>l([[void 0].concat(n.map(r=>e[r]))],r),k:(e,r,n,t)=>{const o=new FileReader;o.addEventListener("loadend",()=>{r[0][0]=n(new Uint8Array(o.result)),t()}),o.readAsArrayBuffer(e)},g:(r,n)=>{const o=e(n[0][0]),c="K"===o.e?[]:r.w[o.e][o.r][0];return t(r,[new Uint8Array(c.map(e=>p(r,e)))],n[0])},x:(e,r)=>{_(e,r,1,2)}});var E=e=>("function"==typeof Blob&&(e.Y=S("Blob",["type"],(e,r,n)=>new Blob(r,{type:p(e,n[1])})),e.Z=S("File",["type","name","lastModified"],(e,r,n)=>{try{return new File(r,p(e,n[2]),{type:p(e,n[1]),lastModified:p(e,n[3])})}catch(t){if(e.b){const t=new Blob(r,{type:p(e,n[1])});return t.name=p(e,n[2]),t.lastModified=p(e,n[3]),t}throw t}})),e),R=e=>(e.D={v:"Date",n:2,h:(e,r)=>l([[e.valueOf()]],r),g:(e,r)=>new Date(p(e,r[0][0])),x:(e,r)=>{_(e,r,1,2)}},e);const N={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var h=e=>(e.E={v:"Error",n:2,h:(e,r)=>l([[N[e.name]?e.name:"Error",e.message,e.stack]],r),g:(e,r)=>{const n=r[0],t=new(N[p(e,n[0])]||Error)(p(e,n[1]));return t.stack=p(e,n[2]),t},x:(e,r)=>{_(e,r,1,2)}},e),T=e=>("function"==typeof Set&&(e.U={v:"Set",n:2,h:(e,r)=>{const n=[];return e.forEach(e=>{n.push(e)}),l([n],r)},g:()=>new Set,x:(e,r)=>{r.m[0].forEach(n=>{r.l.add(f(e,n))}),_(e,r,1,2)}}),"function"==typeof Map&&(e.V={v:"Map",n:2,h:(e,r)=>{const n=[],t=[];return e.forEach((e,r)=>{n.push(r),t.push(e)}),l([n,t],r)},g:()=>new Map,x:(e,r)=>{for(let n=0;n<r.m[0].length;n+=1)r.l.set(f(e,r.m[0][n]),f(e,r.m[1][n]));_(e,r,2,3)}}),e),U=e=>(e.O={v:"Object",n:2,h:(e,r)=>l([],r),g:()=>({}),x:(e,r)=>{_(e,r,0,1)}},e);const M=e=>{try{const r=new RegExp(" ",e);return"RegExp"===c(r)}catch(e){return!1}},B=M("y"),V=M("u");var I=e=>(e.R={v:"RegExp",n:2,h:(e,r)=>{let n=e.flags;return void 0===n&&(n=e.options),l([[e.source,n,e.lastIndex]],r)},g:(e,r)=>{const n=r[0];let t=p(e,n[1]);e.b&&(B||(t=t.replace(/y/g,"")),V||(t=t.replace(/u/g,"")));const o=new RegExp(p(e,n[0]),t);return o.lastIndex=p(e,n[2]),o},x:(e,r)=>{_(e,r,1,2)}},e),x=e=>(e.K={p:void 0},e.L={p:null},e.T={p:!0},e.F={p:!1},e.I={p:1/0},e.J={p:-1/0},e.C={p:NaN},e.M={p:-0},e),F=e=>("function"==typeof Symbol&&(e.P={v:"Symbol",n:0,j:1,h:e=>{const r=Symbol.keyFor(e);return void 0!==r?`r${r}`:`s${String(e).slice(7,-1)}`},g:(e,r)=>"r"===r[0]?Symbol.for(r.slice(1)):Symbol(r.slice(1)),x:()=>{}}),e),O=e=>("function"==typeof Int8Array&&(e.IE=w(Int8Array)),"function"==typeof Int16Array&&(e.IS=w(Int16Array)),"function"==typeof Int32Array&&(e.IT=w(Int32Array)),"function"==typeof Uint8Array&&(e.$=w(Uint8Array)),"function"==typeof Uint8ClampedArray&&(e.UC=w(Uint8ClampedArray)),"function"==typeof Uint16Array&&(e.US=w(Uint16Array)),"function"==typeof Uint32Array&&(e.UT=w(Uint32Array)),"function"==typeof Float32Array&&(e.FT=w(Float32Array)),"function"==typeof Float64Array&&(e.FS=w(Float64Array)),e);const j=e=>({v:`_${c(new e(""))}`,n:2,h:(e,r)=>l([[e.valueOf()]],r),g:(r,n)=>new e(p(r,n[0][0])),x:(e,r)=>{_(e,r,1,2)}});var $=e=>(e.B=j(Boolean),e.G=j(String),e.H=j(Number),e);let C={};var k=C=v(C=E(C=m(C=O(C=T(C=F(C=h(C=I(C=R(C=U(C=b(C=$(C=A(C=x(C))))))))))))));const z=(e,r)=>{const n=a(e,r);if(!n&&!e.b){const e=c(r);throw new Error(`Cannot encode unsupported type "${e}".`)}return n||"O"},D=(e,r)=>{const n=z(e,r);if(!e.s[n].x)return n;const t=e.z.c(r,n);if(void 0!==t)return t.q;e.ee[n]=e.ee[n]||[],e.ee[n].push(0);const o=e.ee[n].length-1,c={e:n,r:o,q:n+o,l:r};return e.z.a(r,c),e.s[n].k&&e.re.push(c),c.q},J=(e,r)=>e.z.i(r=>{let n=[];k[r.e].j||(n=y(r.l,e.ne));let t=k[r.e].h(r.l,n);"String"!==c(t)&&(t=t.map(r=>r.map(r=>D(e,r)))),e.ee[r.e][r.r]=t},r),K=(e,r)=>{const n=JSON.stringify([r,"1.0.2"].concat(Object.keys(e.ee).map(r=>[r,o(r,e.ee[r],e.s)])));if("function"!=typeof e.te)return n;e.te(n)};var q=(e,r)=>{r=r||{};let n={},t={};Object.keys(k).forEach(e=>{const r=k[e].v;r&&(n[r]=e),"_"===(r||"")[0]&&(t[r.slice(1)]=r)});const o={b:r.compat,ne:r.encodeSymbolKeys,te:r.onFinish,s:k,o:n,t:t,z:u(r.encodeSymbolKeys),re:[],ee:{}},c=D(o,e),a=J(o);if(!(o.re.length>0))return K(o,c);{if("function"!=typeof r.onFinish){if(o.b)return K(o,c);throw new Error("Deferred Types require onFinish option.")}let e=o.re.length;const n=()=>{if(0===(e-=1))return J(o,a),K(o,c)};o.re.forEach(e=>{k[e.e].k(e.l,o.ee[e.e][e.r],e=>D(o,e),n)})}};const Z=r.length;var L=e=>e.split("").reduce((e,n)=>e*Z+r.indexOf(n),0),P=(e,r,n)=>n[e]&&0!==n[e].n?1===n[e].n?r.split(","):r.split(",").map(e=>e.split(" ").map(e=>{const r=e.split(/([A-Z$_]+)/).slice(1),t=[];for(let e=0;e<r.length;e+=2){const o=r[e],c=n[o]&&!n[o].v;t.push(c?o:o+L(r[e+1]))}return t})):r;const G=(e,r)=>{"Array"===c(r)?r.forEach(r=>{G(e,r)}):e.oe.push(r)},H=(r,n)=>{const t=e(n);if(!k[t.e]){if(r.b)return;throw new Error(`Cannot decode unrecognized pointer type "${t.e}".`)}if(!k[n]&&void 0===r.d[n]){r.d[n]={e:t.e,r:t.r,q:n,l:void 0,m:r.w[t.e][t.r]};try{r.d[n].l=k[t.e].g(r,r.w[t.e][t.r])}catch(e){if(!r.b)throw new Error(`Cannot decode recognized pointer type "${t.e}".`)}"Array"===c(r.d[n].m)&&G(r,r.d[n].m)}};var Q=(r,n)=>{n=n||{};const t=JSON.parse(r),o=t.slice(2).reduce((e,r)=>(e[r[0]]=P(r[0],r[1],k),e),{}),c=t[0],a={b:n.compat,s:k,w:o,d:{},oe:[]};if(k[c])return k[c].p;const i=e(c);if(!k[i.e]){if(a.b)return c;throw new Error(`Cannot decode unrecognized pointer type "${i.e}".`)}for(a.oe.push(c);a.oe.length;)H(a,a.oe.shift());return Object.keys(a.d).forEach(e=>{const r=a.d[e];k[r.e].x(a,r)}),a.d[c].l},W={encode:q,decode:Q};export default W;