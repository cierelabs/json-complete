var e=e=>Object.prototype.toString.call(e).slice(8,-1),r=(r,n)=>{if(void 0===n)return"un";if(null===n)return"nl";if(!0===n)return"tr";if(!1===n)return"fa";if("number"==typeof n){if(n===1/0)return"pI";if(n===-1/0)return"nI";if(n!=n)return"Na";if(0===n&&1/n==-1/0)return"n0"}let t=e(n);const o=r.e[t];return o&&"object"==typeof n&&(t=o),r.n[t]};const n=r=>{if("function"!=typeof Map||"Map"!==e(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==e(Symbol())||!r)return!0;const n={};n[Symbol()]=1;const t=new Map;for(let e=0;e<50;e+=1)t.set(Object.getOwnPropertySymbols(n)[0],{});return 1===t.size};var t=e=>{if(n(e)){const e=new Map;return{t:r=>e.get(r),o:(r,n)=>{e.set(r,n)},a:(r,n)=>{n=n||0;let t=0;return e.forEach(e=>{t>=n&&r(e),t+=1}),t}}}const r=[],t=[];return{t:e=>{for(let n=0;n<r.length;n+=1)if(r[n]===e)return t[n]},o:(e,n)=>{r.push(e),t.push(n)},a:(e,r)=>{let n;for(n=r||0;n<t.length;n+=1)e(t[n]);return n}}},o=(e,r)=>{const n=[],t={};Array.prototype.forEach.call(e,(e,r)=>{t[String(r)]=1,n.push(r)});let o=Object.keys(e).filter(e=>!t[e]);r&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e)));let a=0;return n.concat(o).reduce((r,n)=>(n===a?(a+=1,r.u.push(e[n])):(r.c.push(n),r.i.push(e[n])),r),{u:[],c:[],i:[]})},a=e=>({f:e.slice(0,2),_:Number(e.slice(2))}),u=(e,r)=>{if(e.y[r])return e.y[r].l;const n=a(r);return e.y[n.f]?e.d[r].s:r},c=(e,r)=>{for(let n=0;n<r.p[0].length;n+=1)r.s[n]=u(e,r.p[0][n])},i=(e,r,n,t)=>{for(let o=0;o<(r.p[n]||[]).length;o+=1){const a=r.p[n][o];if("Sy"===a.slice(0,2)&&"function"!=typeof Symbol&&e.m)return;r.s[u(e,a)]=u(e,r.p[t][o])}},f=(e,r)=>{if(e.y[r])return e.y[r].l;const n=a(r);return e.y[n.f].b(e,e.w[n.f][n._])},_=(e,r)=>0===r.c.length?e:e.concat([r.c,r.i]);const y=r=>({g:e(new r),S:(e,r)=>_([Array.prototype.slice.call(new Uint8Array(e))],r),b:(e,n)=>{const t=n[0],o=new r(t.length),a=new Uint8Array(o);return t.forEach((r,n)=>{a[n]=f(e,r)}),o},A:(e,r)=>{c(e,r),i(e,r,1,2)}});var l=e=>("function"==typeof ArrayBuffer&&(e.AB=y(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(e.Sh=y(SharedArrayBuffer)),e),s=e=>(e.Ar={g:"Array",S:(e,r)=>_([r.u],r),b:()=>[],A:(e,r)=>{c(e,r),i(e,r,1,2)}},e.rg={g:"Arguments",S:(e,r)=>_([r.u],r),b:(e,r)=>(function(){return arguments}).apply(null,Array(r[0].length)),A:(e,r)=>{c(e,r),i(e,r,1,2)}},e),d=r=>({g:e(r("")),S:e=>String(e),b:(e,n)=>r(n),A:()=>{}}),p=e=>(e.St=d(String),e.Nu=d(Number),e),m=e=>("function"==typeof BigInt&&(e.Bi=d(BigInt)),e);const b=(e,r,n)=>({g:e,S:(e,n)=>_([[void 0].concat(r.map(r=>e[r]))],n),R:(e,r,n,t)=>{const o=new FileReader;o.addEventListener("loadend",()=>{r[0][0]=n(new Uint8Array(o.result)),t()}),o.readAsArrayBuffer(e)},b:(e,r)=>{const t=a(r[0][0]),o="un"===t.f?[]:e.w[t.f][t._][0];return n(e,[new Uint8Array(o.map(r=>f(e,r)))],r[0])},A:(e,r)=>{i(e,r,1,2)}});var w=e=>("function"==typeof Blob&&(e.Bl=b("Blob",["type"],(e,r,n)=>new Blob(r,{type:f(e,n[1])}))),"function"==typeof File&&(e.Fi=b("File",["type","name","lastModified"],(e,r,n)=>{try{return new File(r,f(e,n[2]),{type:f(e,n[1]),lastModified:f(e,n[3])})}catch(t){if(e.m){const t=new Blob(r,{type:f(e,n[1])});return t.name=f(e,n[2]),t.lastModified=f(e,n[3]),t}throw t}})),e),g=e=>(e.Da={g:"Date",S:(e,r)=>_([[e.valueOf()]],r),b:(e,r)=>new Date(f(e,r[0][0])),A:(e,r)=>{i(e,r,1,2)}},e);const v={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var S=e=>(e.Er={g:"Error",S:(e,r)=>_([[v[e.name]?e.name:"Error",e.message,e.stack]],r),b:(e,r)=>{const n=r[0],t=new(v[f(e,n[0])]||Error)(f(e,n[1]));return t.stack=f(e,n[2]),t},A:(e,r)=>{i(e,r,1,2)}},e),A=e=>("function"==typeof Set&&(e.Se={g:"Set",S:(e,r)=>{const n=[];return e.forEach(e=>{n.push(e)}),_([n],r)},b:()=>new Set,A:(e,r)=>{r.p[0].forEach(n=>{r.s.add(u(e,n))}),i(e,r,1,2)}},e.Ma={g:"Map",N:1,S:(e,r)=>{const n=[],t=[];return e.forEach((e,r)=>{n.push(r),t.push(e)}),_([n,t],r)},b:()=>new Map,A:(e,r)=>{for(let n=0;n<r.p[0].length;n+=1)r.s.set(u(e,r.p[0][n]),u(e,r.p[1][n]));i(e,r,2,3)}}),e),E=e=>(e.Ob={g:"Object",S:(e,r)=>_([],r),b:()=>({}),A:(e,r)=>{i(e,r,0,1)}},e);const R=e=>void 0===e.flags?e.options:e.flags;var N=e=>(e.Re={g:"RegExp",S:(e,r)=>_([[e.source,R(e),e.lastIndex]],r),b:(e,r)=>{const n=r[0],t=new RegExp(f(e,n[0]),f(e,n[1]));return t.lastIndex=f(e,n[2]),t},A:(e,r)=>{i(e,r,1,2)}},e),V=e=>(e.un={l:void 0},e.nl={l:null},e.tr={l:!0},e.fa={l:!1},e.pI={l:1/0},e.nI={l:-1/0},e.Na={l:NaN},e.n0={l:-0},e),h=e=>("function"==typeof Symbol&&(e.Sy={g:"Symbol",S:e=>{const r=Symbol.keyFor(e);return void 0!==r?`R${r}`:` ${String(e).slice(7,-1)}`},b:(e,r)=>"R"===r[0]?Symbol.for(r.slice(1)):Symbol(r.slice(1)),A:()=>{}}),e);const B=r=>({g:e(new r),S:(e,r)=>_([r.u],r),b:(e,n)=>new r(n[0].length),A:(e,r)=>{c(e,r),i(e,r,1,2)}});var F=e=>("function"==typeof Int8Array&&(e.I1=B(Int8Array),e.I2=B(Int16Array),e.I3=B(Int32Array),e.U1=B(Uint8Array),e.U2=B(Uint16Array),e.U3=B(Uint32Array),e.F3=B(Float32Array)),"function"==typeof Uint8ClampedArray&&(e.C1=B(Uint8ClampedArray)),"function"==typeof Float64Array&&(e.F4=B(Float64Array)),e);const M=r=>({g:`_${e(new r(""))}`,S:(e,r)=>_([[e.valueOf()]],r),b:(e,n)=>new r(f(e,n[0][0])),A:(e,r)=>{i(e,r,1,2)}});var O=e=>(e.Bo=M(Boolean),e.NU=M(Number),e.ST=M(String),e);let U={};var I=U=m(U=w(U=l(U=F(U=A(U=h(U=S(U=N(U=g(U=E(U=s(U=O(U=p(U=V(U))))))))))))));const j=(n,t)=>{const o=r(n,t);if(!o&&!n.m){const r=e(t);throw new Error(`Cannot encode unsupported type "${r}".`)}return o||"Ob"},x=(e,r)=>{const n=j(e,r);if(!e.y[n].A)return n;const t=e.V.t(r,n);if(void 0!==t)return t.h;e.B[n]=e.B[n]||[],e.B[n].push(0);const o=e.B[n].length-1,a={f:n,_:o,h:n+o,s:r};return e.V.o(r,a),e.y[n].R&&e.F.push(a),a.h},$=(r,n)=>r.V.a(n=>{let t=I[n.f].S(n.s,o(n.s,r.M));"String"!==e(t)&&(t=t.map(e=>e.map(e=>x(r,e)))),r.B[n.f][n._]=t},n),C=(e,r)=>{e.B.r=r,e.B.v="1.0.0";const n=JSON.stringify(Object.keys(e.B).map(r=>[r,e.B[r]]));if("function"!=typeof e.O)return n;e.O(n)};var k=(e,r)=>{r=r||{};let n={},o={};Object.keys(I).forEach(e=>{const r=I[e].g;r&&(n[r]=e),"_"===(r||"")[0]&&(o[r.slice(1)]=r)});const a={m:r.compat,M:r.encodeSymbolKeys,O:r.onFinish,y:I,n:n,e:o,V:t(r.encodeSymbolKeys),F:[],B:{}},u=x(a,e),c=$(a);if(!(a.F.length>0))return C(a,u);{if("function"!=typeof r.onFinish){if(a.m)return C(a,u);throw new Error("Deferred Types require onFinish option.")}let e=a.F.length;const n=()=>{if(0===(e-=1))return $(a,c),C(a,u)};a.F.forEach(e=>{I[e.f].R(e.s,a.B[e.f][e._],e=>x(a,e),n)})}};const T=(r,n)=>{"Array"===e(n)?n.forEach(e=>{T(r,e)}):r.U.push(n)},z=(r,n)=>{const t=a(n);if(!I[t.f]){if(r.m)return;throw new Error(`Cannot decode unrecognized pointer type "${t.f}".`)}if(!I[n]&&void 0===r.d[n]){r.d[n]={f:t.f,_:t._,h:n,s:void 0,p:r.w[t.f][t._]};try{r.d[n].s=I[t.f].b(r,r.w[t.f][t._])}catch(e){if(!r.m)throw new Error(`Cannot decode recognized pointer type "${t.f}".`)}"Array"===e(r.d[n].p)&&T(r,r.d[n].p)}};var D=(e,r)=>{const n={m:(r=r||{}).compat,y:I,w:JSON.parse(e).reduce((e,r)=>(e[r[0]]=r[1],e),{}),d:{},U:[]},t=n.w.r;if(I[t])return I[t].l;const o=a(t);if(!I[o.f]){if(n.m)return t;throw new Error(`Cannot decode unrecognized pointer type "${o.f}".`)}for(n.U.push(t);n.U.length;)z(n,n.U.shift());return Object.values(n.d).forEach(e=>{I[e.f].A(n,e)}),n.d[t].s},J={encode:k,decode:D};export default J;