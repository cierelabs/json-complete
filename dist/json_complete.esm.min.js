/* @license BSL-1.0 https://git.io/fpQEc */
var e=e=>e.split(/([A-Z$_]+)/),r=r=>{const n=e(r);return{e:n[1],r:Number(n[2])}},n="0123456789abcdefghijklmnopqrstuvwxyz!#%&'()*+-./:;<=>?@[]^`{|}~";const t=n.length;var o=e=>{let r="";do{r=n[e%t]+r,e=Math.floor(e/t)}while(e);return r},c=(e,n,t)=>t[e]&&0!==t[e].n?1===t[e].n?n.join(","):n.map(e=>e.map(e=>e.map(e=>{const n=r(e);return n.e+o(n.r)}).join("")).join(" ")).join(","):n,a=e=>Object.prototype.toString.call(e).slice(8,-1),i=(e,r)=>{if(void 0===r)return"K";if(null===r)return"L";if(!0===r)return"T";if(!1===r)return"F";if("number"==typeof r){if(r===1/0)return"I";if(r===-1/0)return"J";if(r!=r)return"C";if(0===r&&1/r==-1/0)return"M"}if("function"==typeof Set&&r instanceof Set)return"U";if("function"==typeof Map&&r instanceof Map)return"V";let n=a(r);const t=e.t[n];return t&&"object"==typeof r&&(n=t),e.o[n]};const u=e=>{if("function"!=typeof Map||"Map"!==a(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==a(Symbol())||!e)return!0;const r={};r[Symbol()]=1;const n=new Map;for(let e=0;e<50;e+=1)n.set(Object.getOwnPropertySymbols(r)[0],{});return 1===n.size};var y=e=>{if(u(e)){const e=new Map;return{c:r=>e.get(r),a:(r,n)=>{e.set(r,n)},i:(r,n)=>{n=n||0;let t=0;return e.forEach(e=>{t>=n&&r(e),t+=1}),t}}}const r=[],n=[];return{c:e=>{for(let t=0;t<r.length;t+=1)if(r[t]===e)return n[t]},a:(e,t)=>{r.push(e),n.push(t)},i:(e,r)=>{let t;for(t=r||0;t<n.length;t+=1)e(n[t]);return t}}},f=(e,r)=>{const n=[],t={};Array.prototype.forEach.call(e,(e,r)=>{t[String(r)]=1,n.push(r)});let o=Object.keys(e).filter(e=>!t[e]);r&&"function"==typeof Symbol&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e)));let c=0;return n.concat(o).reduce((r,n)=>(n===c?(c+=1,r.u.push(e[n])):(r.y.push(n),r.f.push(e[n])),r),{u:[],y:[],f:[]})},s=(e,n)=>{if(e.s[n])return e.s[n].p;const t=r(n);return e.s[t.e]?e.d[n].l:n},_=(e,r)=>{for(let n=0;n<r.m[0].length;n+=1)r.l[n]=s(e,r.m[0][n])},p=(e,n,t,o)=>{for(let c=0;c<(n.m[t]||[]).length;c+=1){const a=n.m[t][c];e.b&&"function"!=typeof Symbol&&"P"===r(a).e||(n.l[s(e,a)]=s(e,n.m[o][c]))}},l=(e,n)=>{if(e.s[n])return e.s[n].p;const t=r(n);return e.s[t.e].g(e,e.w[t.e][t.r])},d=(e,r)=>0===r.y.length?e:e.concat([r.y,r.f]);const m=e=>({v:a(new e),n:2,h:(e,r)=>d([Array.prototype.slice.call(new Uint8Array(e))],r),g:(r,n)=>{const t=n[0],o=new e(t.length),c=new Uint8Array(o);return t.forEach((e,n)=>{c[n]=l(r,e)}),o},x:(e,r)=>{_(e,r),p(e,r,1,2)}});var b=e=>("function"==typeof ArrayBuffer&&(e.W=m(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(e.X=m(SharedArrayBuffer)),e),g=e=>(e.A={v:"Array",n:2,h:(e,r)=>d([r.u],r),g:()=>[],x:(e,r)=>{_(e,r),p(e,r,1,2)}},e.Q={v:"Arguments",n:2,h:(e,r)=>d([r.u],r),g:(e,r)=>(function(){return arguments}).apply(null,Array(r[0].length)),x:(e,r)=>{_(e,r),p(e,r,1,2)}},e),A=(e,r)=>({v:a(e("")),n:r||0,j:1,h:e=>String(e),g:(r,n)=>e(n),x:()=>{}}),w=e=>(e.S=A(String),e.N=A(Number,1),e),v=e=>({v:a(new e),n:2,h:(e,r)=>d([r.u],r),g:(r,n)=>new e(n[0].length),x:(e,r)=>{_(e,r),p(e,r,1,2)}}),S=e=>("function"==typeof BigInt&&(e._=A(BigInt,1)),"function"==typeof BigInt64Array&&(e.BI=v(BigInt64Array)),"function"==typeof BigUint64Array&&(e.BU=v(BigUint64Array)),e);const E=(e,n,t)=>({v:e,n:2,h:(e,r)=>d([[void 0].concat(n.map(r=>e[r]))],r),k:(e,r,n,t)=>{const o=new FileReader;o.addEventListener("loadend",()=>{r[0][0]=n(new Uint8Array(o.result)),t()}),o.readAsArrayBuffer(e)},g:(e,n)=>{const o=r(n[0][0]),c="K"===o.e?[]:e.w[o.e][o.r][0];return t(e,[new Uint8Array(c.map(r=>l(e,r)))],n[0])},x:(e,r)=>{p(e,r,1,2)}});var R=e=>("function"==typeof Blob&&(e.Y=E("Blob",["type"],(e,r,n)=>new Blob(r,{type:l(e,n[1])})),e.Z=E("File",["type","name","lastModified"],(e,r,n)=>{try{return new File(r,l(e,n[2]),{type:l(e,n[1]),lastModified:l(e,n[3])})}catch(t){if(e.b){const t=new Blob(r,{type:l(e,n[1])});return t.name=l(e,n[2]),t.lastModified=l(e,n[3]),t}throw t}})),e),N=e=>(e.D={v:"Date",n:2,h:(e,r)=>d([[e.valueOf()]],r),g:(e,r)=>new Date(l(e,r[0][0])),x:(e,r)=>{p(e,r,1,2)}},e);const h={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var T=e=>(e.E={v:"Error",n:2,h:(e,r)=>d([[h[e.name]?e.name:"Error",e.message,e.stack]],r),g:(e,r)=>{const n=r[0],t=new(h[l(e,n[0])]||Error)(l(e,n[1]));return t.stack=l(e,n[2]),t},x:(e,r)=>{p(e,r,1,2)}},e),U=e=>("function"==typeof Set&&(e.U={v:"Set",n:2,h:(e,r)=>{const n=[];return e.forEach(e=>{n.push(e)}),d([n],r)},g:()=>new Set,x:(e,r)=>{r.m[0].forEach(n=>{r.l.add(s(e,n))}),p(e,r,1,2)}}),"function"==typeof Map&&(e.V={v:"Map",n:2,h:(e,r)=>{const n=[],t=[];return e.forEach((e,r)=>{n.push(r),t.push(e)}),d([n,t],r)},g:()=>new Map,x:(e,r)=>{for(let n=0;n<r.m[0].length;n+=1)r.l.set(s(e,r.m[0][n]),s(e,r.m[1][n]));p(e,r,2,3)}}),e),M=e=>(e.O={v:"Object",n:2,h:(e,r)=>d([],r),g:()=>({}),x:(e,r)=>{p(e,r,0,1)}},e);const B=e=>{try{const r=new RegExp(" ",e);return"RegExp"===a(r)}catch(e){return!1}},V=B("y"),I=B("u");var x=e=>(e.R={v:"RegExp",n:2,h:(e,r)=>{let n=e.flags;return void 0===n&&(n=e.options),d([[e.source,n,e.lastIndex]],r)},g:(e,r)=>{const n=r[0];let t=l(e,n[1]);e.b&&(V||(t=t.replace(/y/g,"")),I||(t=t.replace(/u/g,"")));const o=new RegExp(l(e,n[0]),t);return o.lastIndex=l(e,n[2]),o},x:(e,r)=>{p(e,r,1,2)}},e),F=e=>(e.K={p:void 0},e.L={p:null},e.T={p:!0},e.F={p:!1},e.I={p:1/0},e.J={p:-1/0},e.C={p:NaN},e.M={p:-0},e),O=e=>("function"==typeof Symbol&&(e.P={v:"Symbol",n:0,j:1,h:e=>{const r=Symbol.keyFor(e);return void 0!==r?`r${r}`:`s${String(e).slice(7,-1)}`},g:(e,r)=>"r"===r[0]?Symbol.for(r.slice(1)):Symbol(r.slice(1)),x:()=>{}}),e),j=e=>("function"==typeof Int8Array&&(e.IE=v(Int8Array)),"function"==typeof Int16Array&&(e.IS=v(Int16Array)),"function"==typeof Int32Array&&(e.IT=v(Int32Array)),"function"==typeof Uint8Array&&(e.$=v(Uint8Array)),"function"==typeof Uint8ClampedArray&&(e.UC=v(Uint8ClampedArray)),"function"==typeof Uint16Array&&(e.US=v(Uint16Array)),"function"==typeof Uint32Array&&(e.UT=v(Uint32Array)),"function"==typeof Float32Array&&(e.FT=v(Float32Array)),"function"==typeof Float64Array&&(e.FS=v(Float64Array)),e);const $=e=>({v:`_${a(new e(""))}`,n:2,h:(e,r)=>d([[e.valueOf()]],r),g:(r,n)=>new e(l(r,n[0][0])),x:(e,r)=>{p(e,r,1,2)}});var C=e=>(e.B=$(Boolean),e.G=$(String),e.H=$(Number),e);let k={};var z=k=S(k=R(k=b(k=j(k=U(k=O(k=T(k=x(k=N(k=M(k=g(k=C(k=w(k=F(k))))))))))))));const D=(e,r)=>{const n=i(e,r);if(!n&&!e.b){const e=a(r);throw new Error(`Cannot encode unsupported type "${e}".`)}return n||"O"},J=(e,r)=>{const n=D(e,r);if(!e.s[n].x)return n;const t=e.z.c(r,n);if(void 0!==t)return t.q;e.ee[n]=e.ee[n]||[],e.ee[n].push(0);const o=e.ee[n].length-1,c={e:n,r:o,q:n+o,l:r};return e.z.a(r,c),e.s[n].k&&e.re.push(c),c.q},K=(e,r)=>e.z.i(r=>{let n=[];z[r.e].j||(n=f(r.l,e.ne));let t=z[r.e].h(r.l,n);"String"!==a(t)&&(t=t.map(r=>r.map(r=>J(e,r)))),e.ee[r.e][r.r]=t},r),q=(e,r)=>{const n=JSON.stringify([r,"1.0.2"].concat(Object.keys(e.ee).map(r=>[r,c(r,e.ee[r],e.s)])));if("function"!=typeof e.te)return n;e.te(n)};var L=(e,r)=>{r=r||{};let n={},t={};Object.keys(z).forEach(e=>{const r=z[e].v;r&&(n[r]=e),"_"===(r||"")[0]&&(t[r.slice(1)]=r)});const o={b:r.compat,ne:r.encodeSymbolKeys,te:r.onFinish,s:z,o:n,t:t,z:y(r.encodeSymbolKeys),re:[],ee:{}},c=J(o,e),a=K(o);if(!(o.re.length>0))return q(o,c);{if("function"!=typeof r.onFinish){if(o.b)return q(o,c);throw new Error("Deferred Types require onFinish option.")}let e=o.re.length;const n=()=>{if(0===(e-=1))return K(o,a),q(o,c)};o.re.forEach(e=>{z[e.e].k(e.l,o.ee[e.e][e.r],e=>J(o,e),n)})}};const P=n.length;var Z=e=>e.split("").reduce((e,r)=>e*P+n.indexOf(r),0),G=(r,n,t)=>t[r]&&0!==t[r].n?1===t[r].n?n.split(","):n.split(",").map(r=>r.split(" ").map(r=>{const n=e(r).slice(1),o=[];for(let e=0;e<n.length;e+=2){const r=n[e],c=t[r]&&!t[r].v;o.push(c?r:r+Z(n[e+1]))}return o})):n;const H=(e,r)=>{"Array"===a(r)?r.forEach(r=>{H(e,r)}):e.oe.push(r)},Q=(e,n)=>{const t=r(n);if(!z[t.e]){if(e.b)return;throw new Error(`Cannot decode unrecognized pointer type "${t.e}".`)}if(!z[n]&&void 0===e.d[n]){e.d[n]={e:t.e,r:t.r,q:n,l:void 0,m:e.w[t.e][t.r]};try{e.d[n].l=z[t.e].g(e,e.w[t.e][t.r])}catch(r){if(!e.b)throw new Error(`Cannot decode recognized pointer type "${t.e}".`)}"Array"===a(e.d[n].m)&&H(e,e.d[n].m)}};var W=(e,n)=>{n=n||{};const t=JSON.parse(e),o=t.slice(2).reduce((e,r)=>(e[r[0]]=G(r[0],r[1],z),e),{}),c=t[0],a={b:n.compat,s:z,w:o,d:{},oe:[]};if(z[c])return z[c].p;const i=r(c);if(!z[i.e]){if(a.b)return c;throw new Error(`Cannot decode unrecognized pointer type "${i.e}".`)}for(a.oe.push(c);a.oe.length;)Q(a,a.oe.shift());return Object.keys(a.d).forEach(e=>{const r=a.d[e];z[r.e].x(a,r)}),a.d[c].l},X={encode:L,decode:W};export default X;