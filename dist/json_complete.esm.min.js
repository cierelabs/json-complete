var e=(e,r,n)=>{const t=new Error(e);return t.operation=r,t.type=n,t},r=e=>Object.prototype.toString.call(e).slice(8,-1),n=(e,n)=>{if(void 0===n)return"un";if(null===n)return"nl";if(!0===n)return"tr";if(!1===n)return"fa";if("number"==typeof n){if(n===1/0)return"pI";if(n===-1/0)return"nI";if(n!=n)return"Na";if(0===n&&1/n==-1/0)return"n0"}let t=r(n);const o=e.e[t];return o&&"object"==typeof n&&(t=o),e.n[t]};const t=(e,r)=>{const n=[],t={};Array.prototype.forEach.call(e,(e,r)=>{t[String(r)]=1,n.push(r)});let o=0,a=Object.keys(e).filter(e=>!t[e]);return r&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e))),n.concat(a).reduce((r,n)=>(n===o?(o+=1,r.t.push(e[n])):r.o.push([n,e[n]]),r),{t:[],o:[]})},o=(t,o)=>{const a=n(t,o);if(!a&&!t.a){const n=r(o);throw e(`Cannot encode unsupported type "${n}".`,"encode",n)}return a||"Ob"},a=(e,r)=>{e.u[o(e,r)].c&&e.i.push(r)};var c=(e,r)=>{const n=o(e,r);if(!e.u[n].c)return n;const c=e._.f(r,n);if(void 0!==c)return c.y;e.d[n]=e.d[n]||[],e.d[n].push(void 0);const u=e.d[n].length-1,i=t(r,e.s),f={l:n,p:u,y:n+u,m:r,t:e.u[n].b?[]:i.t,o:i.o};return e._.g(r,f),e.u[n].w&&e.A.push(f),f.t.forEach(r=>{a(e,r)}),f.o.forEach(r=>{a(e,r[0]),a(e,r[1])}),f.y};const u=e=>{if("function"!=typeof Map||"Map"!==r(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==r(Symbol())||!e)return!0;const n={};n[Symbol()]=1;const t=new Map;for(let e=0;e<50;e+=1)t.set(Object.getOwnPropertySymbols(n)[0],{});return 1===t.size};var i=e=>{if(u(e)){const e=new Map;return{f:r=>e.get(r),g:(r,n)=>{e.set(r,n)},S:r=>{e.forEach(r)}}}const r=[],n=[];return{f:e=>{for(let t=0;t<r.length;t+=1)if(r[t]===e)return n[t]},g:(e,t)=>{r.push(e),n.push(t)},S:e=>{for(let r=0;r<n.length;r+=1)e(n[r])}}},f=(e,r)=>[r.t.map(r=>c(e,r))],_=e=>({l:e.slice(0,2),p:Number(e.slice(2))}),y=(e,r)=>{if(e.u[r])return e.u[r].R;const n=_(r);return e.u[n.l]?e.N[r].m:r},d=(e,r,n)=>{n.forEach(n=>{r.m[y(e,n[0])]=y(e,n[1])})},s=(e,r)=>{d(e,r,r.h.slice(1))},l=(e,r)=>{if(e.u[r])return e.u[r].R;const n=_(r);return e.u[n.l].V(e,n.l,n.p)};const p=e=>({j:r(new e),B:(e,r)=>(r.t=Array.prototype.slice.call(new Uint8Array(r.m)),f(e,r)),V:(r,n,t)=>{const o=r.M[n][t][0],a=new e(o.length),c=new Uint8Array(a);return o.forEach((e,n)=>{c[n]=l(r,e)}),a},c:s});var m=e=>("function"==typeof ArrayBuffer&&(e.AB=p(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(e.Sh=p(SharedArrayBuffer)),e),b=(e,r)=>{r.h[0].forEach((n,t)=>{r.m[t]=y(e,n)}),s(e,r)},g=e=>(e.Ar={j:"Array",B:f,V:()=>[],c:b},e.rg={j:"Arguments",B:f,V:(e,r,n)=>(function(){return arguments}).apply(null,Array(e.M[r][n][0].length)),c:b},e),v=e=>({j:r(e("")),B:(e,r)=>String(r.m),V:(r,n,t)=>e(r.M[n][t]),c:()=>{}}),w=e=>(e.St=v(String),e.St.b=1,e.Nu=v(Number),e),A=e=>("function"==typeof BigInt&&(e.Bi=v(BigInt)),e);const S=(e,r,n)=>({j:e,w:(e,r,n)=>{const t=new FileReader;t.addEventListener("loadend",()=>{r.U=c(e,new Uint8Array(t.result)),n()}),t.readAsArrayBuffer(r.m)},B:(e,n)=>[[n.U].concat(r.map(r=>c(e,n.m[r])))],V:(e,r,t)=>{const o=e.M[r][t][0],a=_(o[0]);return n(e,[new Uint8Array(e.M[a.l][a.p][0].map(r=>l(e,r)))],o)},c:s});var E=e=>("function"==typeof Blob&&(e.Bl=S("Blob",["type"],(e,r,n)=>new Blob(r,{type:l(e,n[1])}))),"function"==typeof File&&(e.Fi=S("File",["type","name","lastModified"],(e,r,n)=>{try{return new File(r,l(e,n[2]),{type:l(e,n[1]),lastModified:l(e,n[3])})}catch(t){if(e.a){const t=new Blob(r,{type:l(e,n[1])});return t.name=l(e,n[2]),t.lastModified=l(e,n[3]),t}throw t}})),e),R=e=>(e.Da={j:"Date",B:(e,r)=>[c(e,r.m.valueOf())],V:(e,r,n)=>new Date(l(e,e.M[r][n][0])),c:s},e);const N={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var h=e=>(e.Er={j:"Error",B:(e,r)=>[[c(e,N[r.m.name]?r.m.name:"Error"),c(e,r.m.message),c(e,r.m.stack)]],V:(e,r,n)=>{const t=e.M[r][n][0],o=new(N[l(e,t[0])]||Error)(l(e,t[1]));return o.stack=l(e,t[2]),o},c:s},e),V=e=>("function"==typeof Set&&(e.Se={j:"Set",B:(e,r)=>[Array.from(r.m).map(r=>c(e,r))],V:()=>new Set,c:(e,r)=>{r.h[0].forEach(n=>{r.m.add(y(e,n))}),s(e,r)}},e.Ma={j:"Map",B:(e,r)=>[Array.from(r.m).map(r=>[c(e,r[0]),c(e,r[1])])],V:()=>new Map,c:(e,r)=>{r.h[0].forEach(n=>{r.m.set(y(e,n[0]),y(e,n[1]))}),s(e,r)}}),e),j=e=>(e.Ob={j:"Object",B:()=>[],V:()=>({}),c:(e,r)=>{d(e,r,r.h)}},e);const B=e=>void 0===e.flags?e.options:e.flags;var M=e=>(e.Re={j:"RegExp",B:(e,r)=>{const n=r.m;return[[c(e,n.source),c(e,B(n)),c(e,n.lastIndex)]]},V:(e,r,n)=>{const t=e.M[r][n][0],o=new RegExp(l(e,t[0]),l(e,t[1]));return o.lastIndex=l(e,t[2]),o},c:s},e),U=e=>(e.un={R:void 0},e.nl={R:null},e.tr={R:!0},e.fa={R:!1},e.pI={R:1/0},e.nI={R:-1/0},e.Na={R:NaN},e.n0={R:-0},e),x=e=>("function"==typeof Symbol&&(e.Sy={j:"Symbol",B:(e,r)=>{const n=Symbol.keyFor(r.m),t=void 0!==n;return[c(e,!!t),c(e,t?n:String(r.m).slice(7,-1))]},V:(e,r,n)=>{const t=e.M[r][n],o=l(e,t[1]);return l(e,t[0])?Symbol.for(o):Symbol(o)},c:()=>{}}),e);const F=e=>({j:r(new e),B:f,V:(r,n,t)=>new e(r.M[n][t][0].length),c:b});var I=e=>("function"==typeof Int8Array&&(e.I1=F(Int8Array),e.I2=F(Int16Array),e.I3=F(Int32Array),e.U1=F(Uint8Array),e.U2=F(Uint16Array),e.U3=F(Uint32Array),e.F3=F(Float32Array)),"function"==typeof Uint8ClampedArray&&(e.C1=F(Uint8ClampedArray)),"function"==typeof Float64Array&&(e.F4=F(Float64Array)),e);const O=e=>({j:`_${r(new e(""))}`,B:(e,r)=>[c(e,r.m.valueOf())],V:(r,n,t)=>new e(l(r,r.M[n][t][0])),c:s});var C=e=>(e.Bo=O(Boolean),e.NU=O(Number),e.ST=O(String),e.ST.b=1,e);let $={};var k=$=A($=E($=m($=I($=V($=x($=h($=M($=R($=j($=g($=C($=w($=U($))))))))))))));const z=(e,r)=>{e._.S(r=>{e.d[r.l][r.p]=k[r.l].B(e,r),r.o.length>0&&(e.d[r.l][r.p]=e.d[r.l][r.p].concat(r.o.map(r=>[c(e,r[0]),c(e,r[1])])))}),e.d.r=r,e.d.v="1.0.0";const n=Object.keys(e.d).map(r=>[r,e.d[r]]);if("function"!=typeof e.x)return n;e.x(n)};var T=(r,n)=>{const t={a:(n=n||{}).compat,s:n.encodeSymbolKeys,x:n.onFinish,u:k,n:Object.keys(k).reduce((e,r)=>{const n=k[r].j;return n&&(e[n]=r),e},{}),e:Object.keys(k).reduce((e,r)=>{const n=k[r].j;return"_"===(n||"")[0]&&(e[n.slice(1)]=n),e},{}),_:i(n.encodeSymbolKeys),i:[],A:[],d:{}},o=c(t,r);if(k[o])return z(t,o);for(t.i.push(r);t.i.length;)c(t,t.i.shift());if(!(t.A.length>0))return z(t,o);{if("function"!=typeof n.onFinish){if(t.a)return z(t,o);throw e("Found deferred type, but no onFinish option provided.","encode")}let r=t.A.length;const a=()=>{if(0===(r-=1))return z(t,o)};t.A.forEach(e=>{k[e.l].w(t,e,a)})}};const D=(e,n)=>{"Array"===r(n)?n.forEach(r=>{D(e,r)}):e.i.push(n)},K=(n,t)=>{const o=_(t);if(!k[o.l]){if(n.a)return;throw e(`Cannot decode unrecognized pointer type "${o.l}".`,"decode",o.l)}if(!k[t]&&void 0===n.N[t]){n.N[t]={l:o.l,p:o.p,y:t,m:void 0,h:n.M[o.l][o.p]};try{n.N[t].m=k[o.l].V(n,o.l,o.p)}catch(r){throw e(`Cannot generate recognized object type from pointer type "${o.l}".`,"decode")}"Array"===r(n.N[t].h)&&D(n,n.N[t].h)}};var q=(r,n)=>{const t={a:(n=n||{}).compat,u:k,M:r.reduce((e,r)=>(e[r[0]]=r[1],e),{}),N:{},i:[]},o=t.M.r;if(k[o])return k[o].R;const a=_(o);if(!k[a.l]){if(t.a)return o;throw e(`Cannot decode unrecognized pointer type "${a.l}".`,"decode",a.l)}for(t.i.push(o);t.i.length;)K(t,t.i.shift());return Object.values(t.N).forEach(e=>{k[e.l].c(t,e)}),t.N[o].m},G={encode:T,decode:q};export default G;