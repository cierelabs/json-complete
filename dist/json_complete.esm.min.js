/* @license BSL-1.0 https://git.io/fpQEc */
var e="0123456789abcdefghijklmnopqrstuvwxyz!#%&'()*+-./:;<=>?@[]^_`{|}~",r=e=>e.split(/([A-Z$]+)/),n=e=>{const n=r(e);return{t:n[1],o:Number(n[2])}},t=(e,r)=>{let n="";const t=r.length;do{n=r[e%t]+n,e=Math.floor(e/t)}while(e);return n},o=(r,o,i)=>i[r]&&0!==i[r].i?1===i[r].i?o.join(","):o.map(r=>r.map(r=>r.map(r=>{const o=n(r);return o.t+t(o.o,e)}).join("")).join(" ")).join(","):o,i=e=>Object.prototype.toString.call(e).slice(8,-1),c=(e,r)=>{for(let n=0;n<e.u.length;n+=1)if(e.u[n][0](r))return e.u[n][1];if("function"==typeof Set&&r instanceof Set)return"U";if("function"==typeof Map&&r instanceof Map)return"V";let n=i(r);const t=e.s[n];return t&&"object"==typeof r&&(n=t),e._[n]};const a=e=>{if("function"!=typeof Map||"Map"!==i(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==i(Symbol())||!e)return!0;const r={};r[Symbol()]=1;const n=new Map;for(let e=0;e<50;e+=1)n.set(Object.getOwnPropertySymbols(r)[0],{});return 1===n.size};var y=e=>{if(a(e)){const e=new Map;return{p:r=>e.get(r),l:(r,n)=>{e.set(r,n)},m:(r,n)=>{n=n||0;let t=0;return e.forEach(e=>{t>=n&&r(e),t+=1}),t}}}const r=[],n=[];return{p:e=>{for(let t=0;t<r.length;t+=1)if(r[t]===e)return n[t]},l:(e,t)=>{r.push(e),n.push(t)},m:(e,r)=>{let t;for(t=r||0;t<n.length;t+=1)e(n[t]);return t}}},u=(e,r)=>{const n=[],t={};Array.prototype.forEach.call(e,(e,r)=>{t[String(r)]=1,n.push(r)});let o=Object.keys(e).filter(e=>!t[e]);r&&"function"==typeof Symbol&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e)));let i=0;return n.concat(o).reduce((r,n)=>(n===i?(i+=1,r.g.push(e[n])):(r.v.push(n),r.h.push(e[n])),r),{g:[],v:[],h:[]})},s=(e,r)=>{if(e.T[r])return e.T[r].M;const t=n(r);return e.T[t.t]?e.j[r].F:r},f=(e,r)=>{for(let n=0;n<r.$[0].length;n+=1)r.F[n]=s(e,r.$[0][n])},_=(e,r,t,o)=>{for(let i=0;i<(r.$[t]||[]).length;i+=1){const c=r.$[t][i];e.C&&"function"!=typeof Symbol&&"P"===n(c).t||(r.F[s(e,c)]=s(e,r.$[o][i]))}},p=(e,r)=>{if(e.T[r])return e.T[r].M;const t=n(r);return e.T[t.t].k(e,e.q[t.t][t.o])},l=(e,r)=>0===r.v.length?e:e.concat([r.v,r.h]);const d=e=>({J:i(new e),i:2,K:(e,r)=>l([Array.prototype.slice.call(new Uint8Array(e))],r),k:(r,n)=>{const t=n[0],o=new e(t.length),i=new Uint8Array(o);return t.forEach((e,n)=>{i[n]=p(r,e)}),o},L:(e,r)=>{f(e,r),_(e,r,1,2)}});var m=e=>("function"==typeof ArrayBuffer&&(e.W=d(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(e.X=d(SharedArrayBuffer)),e),b=e=>(e.A={J:"Array",i:2,K:(e,r)=>l([r.g],r),k:()=>[],L:(e,r)=>{f(e,r),_(e,r,1,2)}},e.Q={J:"Arguments",i:2,K:(e,r)=>l([r.g],r),k:(e,r)=>(function(){return arguments}).apply(null,Array(r[0].length)),L:(e,r)=>{f(e,r),_(e,r,1,2)}},e),g=(e,r)=>({J:i(e("")),i:r||0,ee:1,K:e=>String(e),k:(r,n)=>e(n),L:()=>{}}),A=e=>(e.S=g(String),e.N=g(Number,1),e),w=e=>({J:i(new e),i:2,K:(e,r)=>l([r.g],r),k:(r,n)=>new e(n[0].length),L:(e,r)=>{f(e,r),_(e,r,1,2)}}),v=e=>("function"==typeof BigInt&&(e.I=g(BigInt,1)),"function"==typeof BigInt64Array&&(e.BI=w(BigInt64Array)),"function"==typeof BigUint64Array&&(e.BU=w(BigUint64Array)),e);const S=(e,r,t)=>({J:e,i:2,K:(e,n)=>l([[void 0].concat(r.map(r=>e[r]))],n),re:(e,r,n,t)=>{const o=new FileReader;o.addEventListener("loadend",()=>{r[0][0]=n(new Uint8Array(o.result)),t()}),o.readAsArrayBuffer(e)},k:(e,r)=>{const o=n(r[0][0]),i="K"===o.t?[]:e.q[o.t][o.o][0];return t(e,[new Uint8Array(i.map(r=>p(e,r)))],r[0])},L:(e,r)=>{_(e,r,1,2)}});var E=e=>("function"==typeof Blob&&(e.Y=S("Blob",["type"],(e,r,n)=>new Blob(r,{type:p(e,n[1])})),e.Z=S("File",["type","name","lastModified"],(e,r,n)=>{try{return new File(r,p(e,n[2]),{type:p(e,n[1]),lastModified:p(e,n[3])})}catch(t){if(e.C){const t=new Blob(r,{type:p(e,n[1])});return t.name=p(e,n[2]),t.lastModified=p(e,n[3]),t}throw t}})),e),R=e=>(e.D={J:"Date",i:2,K:(e,r)=>l([[e.valueOf()]],r),k:(e,r)=>new Date(p(e,r[0][0])),L:(e,r)=>{_(e,r,1,2)}},e);const N={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var h=e=>(e.E={J:"Error",i:2,K:(e,r)=>l([[N[e.name]?e.name:"Error",e.message,e.stack]],r),k:(e,r)=>{const n=r[0],t=new(N[p(e,n[0])]||Error)(p(e,n[1]));return t.stack=p(e,n[2]),t},L:(e,r)=>{_(e,r,1,2)}},e),T=e=>("function"==typeof Set&&(e.U={J:"Set",i:2,K:(e,r)=>{const n=[];return e.forEach(e=>{n.push(e)}),l([n],r)},k:()=>new Set,L:(e,r)=>{r.$[0].forEach(n=>{r.F.add(s(e,n))}),_(e,r,1,2)}}),"function"==typeof Map&&(e.V={J:"Map",i:2,K:(e,r)=>{const n=[],t=[];return e.forEach((e,r)=>{n.push(r),t.push(e)}),l([n,t],r)},k:()=>new Map,L:(e,r)=>{for(let n=0;n<r.$[0].length;n+=1)r.F.set(s(e,r.$[0][n]),s(e,r.$[1][n]));_(e,r,2,3)}}),e),U=e=>(e.O={J:"Object",i:2,K:(e,r)=>l([],r),k:()=>({}),L:(e,r)=>{_(e,r,0,1)}},e);const B=e=>{try{const r=new RegExp(" ",e);return"RegExp"===i(r)}catch(e){return!1}},M=B("y"),V=B("u");var x=e=>(e.R={J:"RegExp",i:2,K:(e,r)=>{let n=e.flags;return void 0===n&&(n=e.options),l([[e.source,n,e.lastIndex]],r)},k:(e,r)=>{const n=r[0];let t=p(e,n[1]);e.C&&(M||(t=t.replace(/y/g,"")),V||(t=t.replace(/u/g,"")));const o=new RegExp(p(e,n[0]),t);return o.lastIndex=p(e,n[2]),o},L:(e,r)=>{_(e,r,1,2)}},e);const I=e=>r=>r===e;var F=e=>(e.$0={ne:I(void 0),M:void 0},e.$1={ne:I(null),M:null},e.$2={ne:I(!0),M:!0},e.$3={ne:I(!1),M:!1},e.$4={ne:I(1/0),M:1/0},e.$5={ne:I(-1/0),M:-1/0},e.$6={ne:e=>e!=e,M:NaN},e.$7={ne:e=>0===e&&1/e==-1/0,M:-0},e),O=e=>("function"==typeof Symbol&&(e.P={J:"Symbol",i:0,ee:1,K:e=>{const r=Symbol.keyFor(e);return void 0!==r?`r${r}`:`s${String(e).slice(7,-1)}`},k:(e,r)=>"r"===r[0]?Symbol.for(r.slice(1)):Symbol(r.slice(1)),L:()=>{}}),e),j=e=>("function"==typeof Int8Array&&(e.IE=w(Int8Array)),"function"==typeof Int16Array&&(e.IS=w(Int16Array)),"function"==typeof Int32Array&&(e.IT=w(Int32Array)),"function"==typeof Uint8Array&&(e.UE=w(Uint8Array)),"function"==typeof Uint8ClampedArray&&(e.UC=w(Uint8ClampedArray)),"function"==typeof Uint16Array&&(e.US=w(Uint16Array)),"function"==typeof Uint32Array&&(e.UT=w(Uint32Array)),"function"==typeof Float32Array&&(e.FT=w(Float32Array)),"function"==typeof Float64Array&&(e.FS=w(Float64Array)),e);const $=e=>({J:`_${i(new e(""))}`,i:2,K:(e,r)=>l([[e.valueOf()]],r),k:(r,n)=>new e(p(r,n[0][0])),L:(e,r)=>{_(e,r,1,2)}});var C=e=>(e.B=$(Boolean),e.G=$(String),e.H=$(Number),e);let k={};var z=k=v(k=E(k=m(k=j(k=T(k=O(k=h(k=x(k=R(k=U(k=b(k=C(k=A(k=F(k))))))))))))));const D=(e,r)=>{const n=c(e,r);if(!n&&!e.C){const e=i(r);throw new Error(`Cannot encode unsupported type "${e}".`)}return n||"O"},q=(e,r)=>{const n=D(e,r);if(!e.T[n].L)return n;const t=e.te.p(r,n);if(void 0!==t)return t.oe;e.ie[n]=e.ie[n]||[],e.ie[n].push(0);const o=e.ie[n].length-1,i={t:n,o:o,oe:n+o,F:r};return e.te.l(r,i),e.T[n].re&&e.ce.push(i),i.oe},J=(e,r)=>e.te.m(r=>{let n=[];z[r.t].ee||(n=u(r.F,e.ae));let t=z[r.t].K(r.F,n);"String"!==i(t)&&(t=t.map(r=>r.map(r=>q(e,r)))),e.ie[r.t][r.o]=t},r),K=(e,r)=>{const n=JSON.stringify([`${r},2`].concat(Object.keys(e.ie).map(r=>[r,o(r,e.ie[r],e.T)])));if("function"!=typeof e.ye)return n;e.ye(n)};var P=(e,r)=>{r=r||{};let n=[],t={},o={};Object.keys(z).forEach(e=>{if("$"===e[0])return void n.push([z[e].ne,e]);const r=z[e].J;t[r]=e,"_"===r[0]&&(o[r.slice(1)]=r)});const i={C:r.compat,ae:r.encodeSymbolKeys,ye:r.onFinish,u:n,T:z,_:t,s:o,te:y(r.encodeSymbolKeys),ce:[],ie:{}},c=q(i,e),a=J(i);if(!(i.ce.length>0))return K(i,c);{if("function"!=typeof r.onFinish){if(i.C)return K(i,c);throw new Error("Deferred Types require onFinish option.")}let e=i.ce.length;const n=()=>{if(0===(e-=1))return J(i,a),K(i,c)};i.ce.forEach(e=>{z[e.t].re(e.F,i.ie[e.t][e.o],e=>q(i,e),n)})}},Z=(e,r)=>{const n=r.length;return e.split("").reduce((e,t)=>e*n+r.indexOf(t),0)},G=(n,t,o)=>o[n]&&0!==o[n].i?1===o[n].i?t.split(","):t.split(",").map(n=>n.split(" ").map(n=>{const t=r(n).slice(1),o=[];for(let r=0;r<t.length;r+=2){const n=t[r];o.push(n+Z(t[r+1],e))}return o})):t;const H=(e,r)=>{"Array"===i(r)?r.forEach(r=>{H(e,r)}):e.ue.push(r)},L=(e,r)=>{if(z[r]||void 0!==e.j[r])return;const t=n(r);if(!z[t.t]){if(e.C)return;throw new Error(`Cannot decode unrecognized pointer type "${t.t}".`)}e.j[r]={t:t.t,o:t.o,oe:r,F:void 0,$:e.q[t.t][t.o]};try{e.j[r].F=z[t.t].k(e,e.q[t.t][t.o])}catch(r){if(!e.C)throw new Error(`Cannot decode recognized pointer type "${t.t}".`)}"Array"===i(e.j[r].$)&&H(e,e.j[r].$)};var Q=(e,r)=>{r=r||{};const t=JSON.parse(e),o=t.slice(1).reduce((e,r)=>(e[r[0]]=G(r[0],r[1],z),e),{}),i=t[0].split(",")[0],c={C:r.compat,T:z,q:o,j:{},ue:[]};if(z[i])return z[i].M;const a=n(i);if(!z[a.t]){if(c.C)return i;throw new Error(`Cannot decode unrecognized pointer type "${a.t}".`)}for(c.ue.push(i);c.ue.length;)L(c,c.ue.shift());return Object.keys(c.j).forEach(e=>{const r=c.j[e];z[r.t].L(c,r)}),c.j[i].F},W={encode:P,decode:Q};export default W;