/* @license BSL-1.0 https://git.io/fpQEc */
"use strict";var n=function(n){return n.split(/([A-Z$_]+)/)},e=function(e){var r=n(e);return{t:r[1],u:Number(r[2])}},r="0123456789abcdefghijklmnopqrstuvwxyz!#%&'()*+-./:;<=>?@[]^`{|}~",t=r.length,u=function(n){var e="";do{e=r[n%t]+e,n=Math.floor(n/t)}while(n);return e},o=function(n,r,t){return t[n]&&0!==t[n].o?1===t[n].o?r.join(","):r.map(function(n){return n.map(function(n){return n.map(function(n){var r=e(n);return r.t+u(r.u)}).join("")}).join(" ")}).join(","):r},i=function(n){return Object.prototype.toString.call(n).slice(8,-1)},f=function(n,e){if(void 0===e)return"K";if(null===e)return"L";if(!0===e)return"T";if(!1===e)return"F";if("number"==typeof e){if(e===1/0)return"I";if(e===-1/0)return"J";if(e!=e)return"C";if(0===e&&1/e==-1/0)return"M"}if("function"==typeof Set&&e instanceof Set)return"U";if("function"==typeof Map&&e instanceof Map)return"V";var r=i(e),t=n.i[r];return t&&"object"==typeof e&&(r=t),n.p[r]},c=function(n){if("function"!=typeof Map||"Map"!==i(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==i(Symbol())||!n)return!0;var e={};e[Symbol()]=1;for(var r=new Map,t=0;t<50;t+=1)r.set(Object.getOwnPropertySymbols(e)[0],{});return 1===r.size},a=function(n){if(c(n)){var e=new Map;return{s:function(n){return e.get(n)},l:function(n,r){e.set(n,r)},v:function(n,r){r=r||0;var t=0;return e.forEach(function(e){t>=r&&n(e),t+=1}),t}}}var r=[],t=[];return{s:function(n){for(var e=0;e<r.length;e+=1)if(r[e]===n)return t[e]},l:function(n,e){r.push(n),t.push(e)},v:function(n,e){var r;for(r=e||0;r<t.length;r+=1)n(t[r]);return r}}},y=function(n,e){var r=[],t={};Array.prototype.forEach.call(n,function(n,e){t[String(e)]=1,r.push(e)});var u=Object.keys(n).filter(function(n){return!t[n]});e&&"function"==typeof Symbol&&(u=u.concat(Object.getOwnPropertySymbols(n).filter(function(n){return Symbol[String(n).slice(14,-1)]!==n})));var o=0;return r.concat(u).reduce(function(e,r){return r===o?(o+=1,e.m.push(n[r])):(e.g.push(r),e.h.push(n[r])),e},{m:[],g:[],h:[]})},_=function(n,r){if(n.j[r])return n.j[r].k;var t=e(r);return n.j[t.t]?n.nn[r].q:r},p=function(n,e){for(var r=0;r<e.en[0].length;r+=1)e.q[r]=_(n,e.en[0][r])},s=function(n,r,t,u){for(var o=0;o<(r.en[t]||[]).length;o+=1){var i=r.en[t][o];n.rn&&"function"!=typeof Symbol&&"P"===e(i).t||(r.q[_(n,i)]=_(n,r.en[u][o]))}},l=function(n,r){if(n.j[r])return n.j[r].k;var t=e(r);return n.j[t.t].tn(n,n.un[t.t][t.u])},d=function(n,e){return 0===e.g.length?n:n.concat([e.g,e.h])},v=function(n){return{on:i(new n),o:2,in:function(n,e){return d([Array.prototype.slice.call(new Uint8Array(n))],e)},tn:function(e,r){var t=r[0],u=new n(t.length),o=new Uint8Array(u);return t.forEach(function(n,r){o[r]=l(e,n)}),u},fn:function(n,e){p(n,e),s(n,e,1,2)}}},m=function(n){return"function"==typeof ArrayBuffer&&(n.W=v(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(n.X=v(SharedArrayBuffer)),n},b=function(n){return n.A={on:"Array",o:2,in:function(n,e){return d([e.m],e)},tn:function(){return[]},fn:function(n,e){p(n,e),s(n,e,1,2)}},n.Q={on:"Arguments",o:2,in:function(n,e){return d([e.m],e)},tn:function(n,e){return function(){return arguments}.apply(null,Array(e[0].length))},fn:function(n,e){p(n,e),s(n,e,1,2)}},n},g=function(n,e){return{on:i(n("")),o:e||0,cn:1,in:function(n){return String(n)},tn:function(e,r){return n(r)},fn:function(){}}},A=function(n){return n.S=g(String),n.N=g(Number,1),n},w=function(n){return{on:i(new n),o:2,in:function(n,e){return d([e.m],e)},tn:function(e,r){return new n(r[0].length)},fn:function(n,e){p(n,e),s(n,e,1,2)}}},S=function(n){return"function"==typeof BigInt&&(n._=g(BigInt,1)),"function"==typeof BigInt64Array&&(n.BI=w(BigInt64Array)),"function"==typeof BigUint64Array&&(n.BU=w(BigUint64Array)),n},E=function(n,r,t){return{on:n,o:2,in:function(n,e){return d([[void 0].concat(r.map(function(e){return n[e]}))],e)},an:function(n,e,r,t){var u=new FileReader;u.addEventListener("loadend",function(){e[0][0]=r(new Uint8Array(u.result)),t()}),u.readAsArrayBuffer(n)},tn:function(n,r){var u=e(r[0][0]),o="K"===u.t?[]:n.un[u.t][u.u][0];return t(n,[new Uint8Array(o.map(function(e){return l(n,e)}))],r[0])},fn:function(n,e){s(n,e,1,2)}}},R=function(n){return"function"==typeof Blob&&(n.Y=E("Blob",["type"],function(n,e,r){return new Blob(e,{type:l(n,r[1])})}),n.Z=E("File",["type","name","lastModified"],function(n,e,r){try{return new File(e,l(n,r[2]),{type:l(n,r[1]),lastModified:l(n,r[3])})}catch(u){if(n.rn){var t=new Blob(e,{type:l(n,r[1])});return t.name=l(n,r[2]),t.lastModified=l(n,r[3]),t}throw u}})),n},N=function(n){return n.D={on:"Date",o:2,in:function(n,e){return d([[n.valueOf()]],e)},tn:function(n,e){return new Date(l(n,e[0][0]))},fn:function(n,e){s(n,e,1,2)}},n},h={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},T=function(n){return n.E={on:"Error",o:2,in:function(n,e){return d([[h[n.name]?n.name:"Error",n.message,n.stack]],e)},tn:function(n,e){var r=e[0],t=new(h[l(n,r[0])]||Error)(l(n,r[1]));return t.stack=l(n,r[2]),t},fn:function(n,e){s(n,e,1,2)}},n},U=function(n){return"function"==typeof Set&&(n.U={on:"Set",o:2,in:function(n,e){var r=[];return n.forEach(function(n){r.push(n)}),d([r],e)},tn:function(){return new Set},fn:function(n,e){e.en[0].forEach(function(r){e.q.add(_(n,r))}),s(n,e,1,2)}}),"function"==typeof Map&&(n.V={on:"Map",o:2,in:function(n,e){var r=[],t=[];return n.forEach(function(n,e){r.push(e),t.push(n)}),d([r,t],e)},tn:function(){return new Map},fn:function(n,e){for(var r=0;r<e.en[0].length;r+=1)e.q.set(_(n,e.en[0][r]),_(n,e.en[1][r]));s(n,e,2,3)}}),n},M=function(n){return n.O={on:"Object",o:2,in:function(n,e){return d([],e)},tn:function(){return{}},fn:function(n,e){s(n,e,0,1)}},n},B=function(n){try{var e=new RegExp(" ",n);return"RegExp"===i(e)}catch(n){return!1}},V=B("y"),I=B("u"),F=function(n){return n.R={on:"RegExp",o:2,in:function(n,e){var r=n.flags;return void 0===r&&(r=n.options),d([[n.source,r,n.lastIndex]],e)},tn:function(n,e){var r=e[0],t=l(n,r[1]);n.rn&&(V||(t=t.replace(/y/g,"")),I||(t=t.replace(/u/g,"")));var u=new RegExp(l(n,r[0]),t);return u.lastIndex=l(n,r[2]),u},fn:function(n,e){s(n,e,1,2)}},n},x=function(n){return n.K={k:void 0},n.L={k:null},n.T={k:!0},n.F={k:!1},n.I={k:1/0},n.J={k:-1/0},n.C={k:NaN},n.M={k:-0},n},O=function(n){return"function"==typeof Symbol&&(n.P={on:"Symbol",o:0,cn:1,in:function(n){var e=Symbol.keyFor(n);return void 0!==e?"r"+e:"s"+String(n).slice(7,-1)},tn:function(n,e){return"r"===e[0]?Symbol.for(e.slice(1)):Symbol(e.slice(1))},fn:function(){}}),n},j=function(n){return"function"==typeof Int8Array&&(n.IE=w(Int8Array)),"function"==typeof Int16Array&&(n.IS=w(Int16Array)),"function"==typeof Int32Array&&(n.IT=w(Int32Array)),"function"==typeof Uint8Array&&(n.$=w(Uint8Array)),"function"==typeof Uint8ClampedArray&&(n.UC=w(Uint8ClampedArray)),"function"==typeof Uint16Array&&(n.US=w(Uint16Array)),"function"==typeof Uint32Array&&(n.UT=w(Uint32Array)),"function"==typeof Float32Array&&(n.FT=w(Float32Array)),"function"==typeof Float64Array&&(n.FS=w(Float64Array)),n},C=function(n){return{on:"_"+i(new n("")),o:2,in:function(n,e){return d([[n.valueOf()]],e)},tn:function(e,r){return new n(l(e,r[0][0]))},fn:function(n,e){s(n,e,1,2)}}},k=function(n){return n.B=C(Boolean),n.G=C(String),n.H=C(Number),n},z={},D=z=S(z=R(z=m(z=j(z=U(z=O(z=T(z=F(z=N(z=M(z=b(z=k(z=A(z=x(z)))))))))))))),J=function(n,e){var r=f(n,e);if(!r&&!n.rn){var t=i(e);throw new Error('Cannot encode unsupported type "'+t+'".')}return r||"O"},K=function(n,e){var r=J(n,e);if(!n.j[r].fn)return r;var t=n.yn.s(e,r);if(void 0!==t)return t._n;n.pn[r]=n.pn[r]||[],n.pn[r].push(0);var u=n.pn[r].length-1,o={t:r,u:u,_n:r+u,q:e};return n.yn.l(e,o),n.j[r].an&&n.sn.push(o),o._n},q=function(n,e){return n.yn.v(function(e){var r=[];D[e.t].cn||(r=y(e.q,n.ln));var t=D[e.t].in(e.q,r);"String"!==i(t)&&(t=t.map(function(e){return e.map(function(e){return K(n,e)})})),n.pn[e.t][e.u]=t},e)},L=function(n,e){var r=JSON.stringify([e,"2.0.0"].concat(Object.keys(n.pn).map(function(e){return[e,o(e,n.pn[e],n.j)]})));if("function"!=typeof n.dn)return r;n.dn(r)},P=function(n,e){e=e||{};var r={},t={};Object.keys(D).forEach(function(n){var e=D[n].on;e&&(r[e]=n),"_"===(e||"")[0]&&(t[e.slice(1)]=e)});var u={rn:e.compat,ln:e.encodeSymbolKeys,dn:e.onFinish,j:D,p:r,i:t,yn:a(e.encodeSymbolKeys),sn:[],pn:{}},o=K(u,n),i=q(u);if(!(u.sn.length>0))return L(u,o);if("function"!=typeof e.onFinish){if(u.rn)return L(u,o);throw new Error("Deferred Types require onFinish option.")}var f=u.sn.length,c=function(){if(0===(f-=1))return q(u,i),L(u,o)};u.sn.forEach(function(n){D[n.t].an(n.q,u.pn[n.t][n.u],function(n){return K(u,n)},c)})},Z=r.length,$=function(n){return n.split("").reduce(function(n,e){return n*Z+r.indexOf(e)},0)},G=function(e,r,t){return t[e]&&0!==t[e].o?1===t[e].o?r.split(","):r.split(",").map(function(e){return e.split(" ").map(function(e){for(var r=n(e).slice(1),u=[],o=0;o<r.length;o+=2){var i=r[o],f=t[i]&&!t[i].on;u.push(f?i:i+$(r[o+1]))}return u})}):r},H=function n(e,r){"Array"===i(r)?r.forEach(function(r){n(e,r)}):e.vn.push(r)},Q=function(n,r){var t=e(r);if(!D[t.t]){if(n.rn)return;throw new Error('Cannot decode unrecognized pointer type "'+t.t+'".')}if(!D[r]&&void 0===n.nn[r]){n.nn[r]={t:t.t,u:t.u,_n:r,q:void 0,en:n.un[t.t][t.u]};try{n.nn[r].q=D[t.t].tn(n,n.un[t.t][t.u])}catch(e){if(!n.rn)throw new Error('Cannot decode recognized pointer type "'+t.t+'".')}"Array"===i(n.nn[r].en)&&H(n,n.nn[r].en)}},W=function(n,r){r=r||{};var t=JSON.parse(n),u=t.slice(2).reduce(function(n,e){return n[e[0]]=G(e[0],e[1],D),n},{}),o=t[0],i={rn:r.compat,j:D,un:u,nn:{},vn:[]};if(D[o])return D[o].k;var f=e(o);if(!D[f.t]){if(i.rn)return o;throw new Error('Cannot decode unrecognized pointer type "'+f.t+'".')}for(i.vn.push(o);i.vn.length;)Q(i,i.vn.shift());return Object.keys(i.nn).forEach(function(n){var e=i.nn[n];D[e.t].fn(i,e)}),i.nn[o].q},X={encode:P,decode:W};module.exports=X;