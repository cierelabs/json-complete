"use strict";var n=function(n){return Object.prototype.toString.call(n).slice(8,-1)},e=function(e,r){if(void 0===r)return"un";if(null===r)return"nl";if(!0===r)return"tr";if(!1===r)return"fa";if("number"==typeof r){if(r===1/0)return"pI";if(r===-1/0)return"nI";if(r!=r)return"Na";if(0===r&&1/r==-1/0)return"n0"}var t=n(r),u=e.n[t];return u&&"object"==typeof r&&(t=u),e.e[t]},r=function(n,e,r){var t=new Error(n);return t.operation=e,t.type=r,t},t=function(e){if("function"!=typeof Map||"Map"!==n(new Map))return!1;if("function"!=typeof Symbol||"Symbol"!==n(Symbol())||!e)return!0;var r={};r[Symbol()]=1;for(var t=new Map,u=0;u<50;u+=1)t.set(Object.getOwnPropertySymbols(r)[0],{});return 1===t.size},u=function(n){if(t(n)){var e=new Map;return{t:function(n){return e.get(n)},u:function(n,r){e.set(n,r)},o:function(n,r){r=r||0;var t=0;return e.forEach(function(e){t>=r&&n(e),t+=1}),t}}}var r=[],u=[];return{t:function(n){for(var e=0;e<r.length;e+=1)if(r[e]===n)return u[e]},u:function(n,e){r.push(n),u.push(e)},o:function(n,e){var r;for(r=e||0;r<u.length;r+=1)n(u[r]);return r}}},o=function(n,e){var r=[],t={};Array.prototype.forEach.call(n,function(n,e){t[String(e)]=1,r.push(e)});var u=0,o=Object.keys(n).filter(function(n){return!t[n]});return e&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(n){return Symbol[String(n).slice(14,-1)]!==n}))),r.concat(o).reduce(function(e,r){return r===u?(u+=1,e.i.push(n[r])):e.f.push([r,n[r]]),e},{i:[],f:[]})},i=function(n){return{c:n.slice(0,2),a:Number(n.slice(2))}},f=function(n,e){if(n._[e])return n._[e].y;var r=i(e);return n._[r.c]?n.l[e].d:e},c=function(n,e,r){r.forEach(function(r){e.d[f(n,r[0])]=f(n,r[1])})},a=function(n,e){c(n,e,e.p.slice(1))},_=function(n,e){if(n._[e])return n._[e].y;var r=i(e);return n._[r.c].m(n,r.c,r.a)},y=function(e){return{s:n(new e),b:function(n,e){return[Array.prototype.slice.call(new Uint8Array(n))].concat(e.f)},m:function(n,r,t){var u=n.g[r][t][0],o=new e(u.length),i=new Uint8Array(o);return u.forEach(function(e,r){i[r]=_(n,e)}),o},w:a}},d=function(n){return"function"==typeof ArrayBuffer&&(n.AB=y(ArrayBuffer)),"function"==typeof SharedArrayBuffer&&(n.Sh=y(SharedArrayBuffer)),n},l=function(n,e){e.p[0].forEach(function(r,t){e.d[t]=f(n,r)}),a(n,e)},p=function(n){return n.Ar={s:"Array",b:function(n,e){return[e.i].concat(e.f)},m:function(){return[]},w:l},n.rg={s:"Arguments",b:function(n,e){return[e.i].concat(e.f)},m:function(n,e,r){return function(){return arguments}.apply(null,Array(n.g[e][r][0].length))},w:l},n},v=function(e){return{s:n(e("")),b:function(n){return String(n)},m:function(n,r,t){return e(n.g[r][t])},w:function(){}}},m=function(n){return n.St=v(String),n.Nu=v(Number),n},s=function(n){return"function"==typeof BigInt&&(n.Bi=v(BigInt)),n},b=function(n,e,r){return{s:n,b:function(n,r){return[[void 0].concat(e.map(function(e){return n[e]}))].concat(r.f)},A:function(n,e,r,t){var u=new FileReader;u.addEventListener("loadend",function(){e[0][0]=r(new Uint8Array(u.result)),t()}),u.readAsArrayBuffer(n)},m:function(n,e,t){var u=n.g[e][t][0],o=i(u[0]);return r(n,[new Uint8Array(n.g[o.c][o.a][0].map(function(e){return _(n,e)}))],u)},w:a}},g=function(n){return"function"==typeof Blob&&(n.Bl=b("Blob",["type"],function(n,e,r){return new Blob(e,{type:_(n,r[1])})})),"function"==typeof File&&(n.Fi=b("File",["type","name","lastModified"],function(n,e,r){try{return new File(e,_(n,r[2]),{type:_(n,r[1]),lastModified:_(n,r[3])})}catch(u){if(n.S){var t=new Blob(e,{type:_(n,r[1])});return t.name=_(n,r[2]),t.lastModified=_(n,r[3]),t}throw u}})),n},w=function(n){return n.Da={s:"Date",b:function(n,e){return[n.valueOf()].concat(e.f)},m:function(n,e,r){return new Date(_(n,n.g[e][r][0]))},w:a},n},A={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},S=function(n){return n.Er={s:"Error",b:function(n,e){return[[A[n.name]?n.name:"Error",n.message,n.stack]].concat(e.f)},m:function(n,e,r){var t=n.g[e][r][0],u=new(A[_(n,t[0])]||Error)(_(n,t[1]));return u.stack=_(n,t[2]),u},w:a},n},R=function(n){return"function"==typeof Set&&(n.Se={s:"Set",b:function(n,e){var r=[];return n.forEach(function(n){r.push(n)}),[r].concat(e.f)},m:function(){return new Set},w:function(n,e){e.p[0].forEach(function(r){e.d.add(f(n,r))}),a(n,e)}},n.Ma={s:"Map",R:1,b:function(n,e){var r=[];return n.forEach(function(n,e){r.push(e),r.push(n)}),[r].concat(e.f)},m:function(){return new Map},w:function(n,e){for(var r=0;r<e.p[0].length;r+=2)e.d.set(f(n,e.p[0][r]),f(n,e.p[0][r+1]));a(n,e)}}),n},E=function(n){return n.Ob={s:"Object",b:function(n,e){return e.f},m:function(){return{}},w:function(n,e){c(n,e,e.p)}},n},N=function(n){return void 0===n.flags?n.options:n.flags},V=function(n){return n.Re={s:"RegExp",b:function(n,e){return[[n.source,N(n),n.lastIndex]].concat(e.f)},m:function(n,e,r){var t=n.g[e][r][0],u=new RegExp(_(n,t[0]),_(n,t[1]));return u.lastIndex=_(n,t[2]),u},w:a},n},h=function(n){return n.un={y:void 0},n.nl={y:null},n.tr={y:!0},n.fa={y:!1},n.pI={y:1/0},n.nI={y:-1/0},n.Na={y:NaN},n.n0={y:-0},n},B=function(n){return"function"==typeof Symbol&&(n.Sy={s:"Symbol",b:function(n){var e=Symbol.keyFor(n);return void 0!==e?"R"+e:" "+String(n).slice(7,-1)},m:function(n,e,r){var t=n.g[e][r];return"R"===t[0]?Symbol.for(t.slice(1)):Symbol(t.slice(1))},w:function(){}}),n},F=function(e){return{s:n(new e),b:function(n,e){return[e.i].concat(e.f)},m:function(n,r,t){return new e(n.g[r][t][0].length)},w:l}},M=function(n){return"function"==typeof Int8Array&&(n.I1=F(Int8Array),n.I2=F(Int16Array),n.I3=F(Int32Array),n.U1=F(Uint8Array),n.U2=F(Uint16Array),n.U3=F(Uint32Array),n.F3=F(Float32Array)),"function"==typeof Uint8ClampedArray&&(n.C1=F(Uint8ClampedArray)),"function"==typeof Float64Array&&(n.F4=F(Float64Array)),n},O=function(e){return{s:"_"+n(new e("")),b:function(n,e){return[n.valueOf()].concat(e.f)},m:function(n,r,t){return new e(_(n,n.g[r][t][0]))},w:a}},U=function(n){return n.Bo=O(Boolean),n.NU=O(Number),n.ST=O(String),n},I={},j=I=s(I=g(I=d(I=M(I=R(I=B(I=S(I=V(I=w(I=E(I=p(I=U(I=m(I=h(I)))))))))))))),x=function(t,u){var o=e(t,u);if(!o&&!t.S){var i=n(u);throw r('Cannot encode unsupported type "'+i+'".',"encode",i)}return o||"Ob"},C=function(n,e){var r=x(n,e);if(!n._[r].w)return r;var t=n.N.t(e,r);if(void 0!==t)return t.V;n.h[r]=n.h[r]||[],n.h[r].push(0);var u=n.h[r].length-1,o={c:r,a:u,V:r+u,d:e};return n.N.u(e,o),n._[r].A&&n.B.push(o),o.V},k=function(e,r){return e.N.o(function(r){var t=j[r.c].b(r.d,o(r.d,e.F));"String"!==n(t)&&(t=t.map(function(r){return"Array"===n(r)?r.map(function(n){return C(e,n)}):C(e,r)})),e.h[r.c][r.a]=t},r)},T=function(n,e){n.h.r=e,n.h.v="1.0.0";var r=JSON.stringify(Object.keys(n.h).map(function(e){return[e,n.h[e]]}),null,n.M);if("function"!=typeof n.O)return r;n.O(r)},z=function(n,e){e=e||{};var t={},o={};Object.keys(j).forEach(function(n){var e=j[n].s;e&&(t[e]=n),"_"===(e||"")[0]&&(o[e.slice(1)]=e)});var i={S:e.compat,F:e.encodeSymbolKeys,O:e.onFinish,M:e.space,_:j,e:t,n:o,N:u(e.encodeSymbolKeys),B:[],h:{}},f=C(i,n),c=k(i);if(!(i.B.length>0))return T(i,f);if("function"!=typeof e.onFinish){if(i.S)return T(i,f);throw r("Deferred Types require onFinish option.","encode")}var a=i.B.length,_=function(){if(0===(a-=1))return k(i,c),T(i,f)};i.B.forEach(function(n){j[n.c].A(n.d,i.h[n.c][n.a],function(n){return C(i,n)},_)})},D=function e(r,t){"Array"===n(t)?t.forEach(function(n){e(r,n)}):r.U.push(t)},J=function(e,t){var u=i(t);if(!j[u.c]){if(e.S)return;throw r('Cannot decode unrecognized pointer type "'+u.c+'".',"decode",u.c)}if(!j[t]&&void 0===e.l[t]){e.l[t]={c:u.c,a:u.a,V:t,d:void 0,p:e.g[u.c][u.a]};try{e.l[t].d=j[u.c].m(e,u.c,u.a)}catch(n){throw r('Cannot decode recognized pointer type "'+u.c+'".',"decode")}"Array"===n(e.l[t].p)&&D(e,e.l[t].p)}},q=function(n,e){var t={S:(e=e||{}).compat,_:j,g:JSON.parse(n).reduce(function(n,e){return n[e[0]]=e[1],n},{}),l:{},U:[]},u=t.g.r;if(j[u])return j[u].y;var o=i(u);if(!j[o.c]){if(t.S)return u;throw r('Cannot decode unrecognized pointer type "'+o.c+'".',"decode",o.c)}for(t.U.push(u);t.U.length;)J(t,t.U.shift());return Object.values(t.l).forEach(function(n){j[n.c].w(t,n)}),t.l[u].d},K={encode:z,decode:q};module.exports=K;