var e=e=>Object.prototype.toString.call(e).slice(8,-1);const r=e=>{const r=[],n={};Array.prototype.forEach.call(e,(e,t)=>{n[String(t)]=1,r.push(t)});let t=0,o=Object.keys(e).filter(e=>!n[e]).concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e));return r.concat(o).reduce((r,n)=>(n===t?(t+=1,r.e.push(e[n])):r.n.push([n,e[n]]),r),{e:[],n:[]})},n=(r,n)=>{const t=Object.keys(r.t).find(e=>r.t[e].o(n));if(!t&&!r.i)throw new Error(`Cannot encode unsupported type "${e(n)}".`);return t||"ob"},t=(e,r)=>{(e.t[n(e,r)]||{}).a&&e.y.push(r)};var o=(e,o)=>{const i=n(e,o);if(!e.t[i].a)return i;const a=e.f.get(o);if(void 0!==a)return a.d;e.c[i]=e.c[i]||[],e.c[i].push(void 0);const y=e.c[i].length-1,f=r(o),d={u:i,_:y,d:i+y,l:o,e:e.t[i].p?[]:f.e,n:f.n};return e.f.set(o,d),e.t[i].s&&e.A.push(d),d.e.forEach(r=>{t(e,r)}),d.n.forEach(r=>{t(e,r[0]),t(e,r[1])}),d.d},i=e=>({o:r=>r===e,b:e}),a=i(void 0),y=i(null),f={o:e=>e!=e,b:NaN},d=i(1/0),c=i(-1/0),u={o:e=>0===e&&1/e==-1/0,b:-0},_=i(!0),l=i(!1),p=e=>({u:e.slice(0,2),_:parseInt(e.slice(2),10)}),s=(e,r)=>{if(e.t[r])return e.t[r].b;const n=p(r);return e.t[n.u].g(e,n.u,n._)},A=(r,n,t,o)=>({o:t=>e(t)===r&&!(t instanceof n),S:t,g:o,a:()=>{}}),b=A("Number",Number,(e,r)=>o(e,String(r.l)),(e,r,n)=>parseFloat(s(e,e.I[r][n]))),g=Object.assign({p:1},A("String",String,(e,r)=>r.l,(e,r,n)=>e.I[r][n])),S=r=>n=>e(n)===r,E=(e,r)=>"function"===e?r():{o:()=>{}},I=E(typeof Symbol,()=>({o:S("Symbol"),S:(e,r)=>{const n=Symbol.keyFor(r.l),t=void 0!==n;return[o(e,!!t),o(e,t?n:String(r.l).slice(7,-1))]},g:(e,r,n)=>{const t=e.I[r][n],o=s(e,t[1]);return s(e,t[0])?Symbol.for(o):Symbol(o)},a:()=>{}})),w=(e,r)=>[r.e.map(r=>o(e,r))],U=(e,r)=>{if(e.t[r])return e.t[r].b;const n=p(r);if(e.t[n.u])return e.w[r].l;if(e.i)return r;throw new Error(`Cannot decode unrecognized pointer type "${n.u}".`)},B=(e,r,n)=>{n.forEach(n=>{r.l[U(e,n[0])]=U(e,n[1])})},m=(e,r)=>{B(e,r,r.U.slice(1))},R=(e,r)=>({o:S(e),S:w,g:r,a:(e,r)=>{r.U[0].forEach((n,t)=>{r.l[t]=U(e,n)}),m(e,r)}}),v=R("Array",()=>[]),F=R("Arguments",(e,r,n)=>(function(){return arguments}).apply(null,Array(e.I[r][n][0].length))),h={o:S("Object"),S:()=>[],g:()=>({}),a:(e,r)=>{B(e,r,r.U)}},x=(r,n)=>({o:t=>e(t)===r&&t instanceof n,S:(e,r)=>[o(e,r.l.valueOf())],g:(e,r,t)=>new n(s(e,e.I[r][t][0])),a:m}),O=x("Boolean",Boolean),j=x("Number",Number),V=Object.assign({p:1},x("String",String)),M=x("Date",Date),C=(e,r,n)=>({o:S(e),S:r,g:n,a:m}),N=C("RegExp",(e,r)=>[[o(e,r.l.source),o(e,r.l.flags),o(e,r.l.lastIndex)]],(e,r,n)=>{const t=e.I[r][n][0],o=new RegExp(s(e,t[0]),s(e,t[1]));return o.lastIndex=s(e,t[2]),o});const k={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var T=C("Error",(e,r)=>[[o(e,k[r.l.name]?r.l.name:"Error"),o(e,r.l.message),o(e,r.l.stack)]],(e,r,n)=>{const t=e.I[r][n][0],o=new(k[s(e,t[0])]||Error)(s(e,t[1]));return o.stack=s(e,t[2]),o}),$=(e,r)=>({o:S(e),S:(e,r)=>(r.e=Array.from(new Uint8Array(r.l)),w(e,r)),g:(e,n,t)=>{const o=e.I[n][t][0],i=new r(o.length),a=new Uint8Array(i);return o.forEach((r,n)=>{a[n]=s(e,r)}),i},a:m}),z=E(typeof ArrayBuffer,()=>$("ArrayBuffer",ArrayBuffer)),D=E(typeof SharedArrayBuffer,()=>$("SharedArrayBuffer",SharedArrayBuffer)),q=(e,r)=>R(e,(e,n,t)=>new r(e.I[n][t][0].length)),G=E(typeof Int8Array,()=>q("Int8Array",Int8Array)),H=E(typeof Uint8Array,()=>q("Uint8Array",Uint8Array)),J=E(typeof Uint8ClampedArray,()=>q("Uint8ClampedArray",Uint8ClampedArray)),K=E(typeof Int16Array,()=>q("Int16Array",Int16Array)),L=E(typeof Uint16Array,()=>q("Uint16Array",Uint16Array)),P=E(typeof Int32Array,()=>q("Int32Array",Int32Array)),Q=E(typeof Uint32Array,()=>q("Uint32Array",Uint32Array)),W=E(typeof Float32Array,()=>q("Float32Array",Float32Array)),X=E(typeof Float64Array,()=>q("Float64Array",Float64Array)),Y=(e,r,n,t)=>({o:S(e),S:(e,r)=>[Array.from(r.l).map(r=>n(e,r))],g:()=>new r,a:(e,r)=>{r.U[0].forEach(n=>{t(e,r.l,n)}),m(e,r)}}),Z=E(typeof Set,()=>Y("Set",Set,(e,r)=>o(e,r),(e,r,n)=>{r.add(U(e,n))})),ee=E(typeof Map,()=>Y("Map",Map,(e,r)=>[o(e,r[0]),o(e,r[1])],(e,r,n)=>{r.set(U(e,n[0]),U(e,n[1]))})),re=(e,r,n)=>({o:S(e),s:(e,r,n)=>{const t=new FileReader;t.addEventListener("loadend",()=>{r.B=o(e,new Uint8Array(t.result)),n()}),t.readAsArrayBuffer(r.l)},S:(e,n)=>[[n.B].concat(r.map(r=>o(e,n.l[r])))],g:(e,r,t)=>{const o=e.I[r][t][0],i=p(o[0]);return n(e,[new Uint8Array(e.I[i.u][i._][0].map(r=>s(e,r)))],o)},a:m}),ne=E(typeof Blob,()=>re("Blob",["type"],(e,r,n)=>new Blob(r,{type:s(e,n[1])}))),te=E(typeof File,()=>re("File",["name","type","lastModified"],(e,r,n)=>new File(r,s(e,n[1]),{type:s(e,n[2]),lastModified:s(e,n[3])}))),oe=E(typeof BigInt,()=>A("BigInt",BigInt,(e,r)=>o(e,String(r.l)),(e,r,n)=>BigInt(s(e,e.I[r][n]))));const ie={un:a,nl:y,na:f,pI:d,nI:c,n0:u,bt:_,bf:l,nm:b,st:g,sy:I,ar:v,ag:F,ob:h,BO:O,NM:j,ST:V,da:M,re:N,er:T,AB:z,SA:D,I1:G,U1:H,C1:J,I2:K,U2:L,I3:P,U3:Q,F3:W,F4:X,Se:Z,Ma:ee,Bl:ne,Fi:te,BI:oe},ae=(e,r)=>{e.f.forEach(r=>{e.c[r.u][r._]=ie[r.u].S(e,r),r.n.length>0&&(e.c[r.u][r._]=e.c[r.u][r._].concat(r.n.map(r=>[o(e,r[0]),o(e,r[1])])))}),e.c.r=r,e.c.v="1.0.0";const n=Object.keys(e.c).map(r=>[r,e.c[r]]);if("function"!=typeof e.m)return n;e.m(n)};var ye=(e,r)=>{const n={i:(r=r||{}).safeMode,m:r.onFinish,t:ie,f:new Map,y:[],A:[],c:{}},t=o(n,e);if(ie[t])return ae(n,t);for(n.y.push(e);n.y.length;)o(n,n.y.shift());if(!(n.A.length>0))return ae(n,t);{if("function"!=typeof r.onFinish){if(n.i)return ae(n,t);throw new Error("Found deferred type, but no onFinish option provided.")}let e=n.A.length;const o=()=>{if(0===(e-=1))return ae(n,t)};n.A.forEach(e=>{ie[e.u].s(n,e,o)})}};const fe=(r,n)=>{"Array"===e(n)?n.forEach(e=>{fe(r,e)}):r.y.push(n)},de=(r,n)=>{const t=p(n);!ie[n]&&ie[t.u]&&void 0===r.w[n]&&(r.w[n]={u:t.u,_:t._,d:n,l:void 0,U:r.I[t.u][t._]},r.w[n].l=ie[t.u].g(r,t.u,t._),"Array"===e(r.w[n].U)&&fe(r,r.w[n].U))};var ce=(e,r)=>{const n={i:(r=r||{}).safeMode,t:ie,I:e.reduce((e,r)=>(e[r[0]]=r[1],e),{}),w:{},y:[]},t=n.I.r;if(ie[t])return ie[t].b;const o=p(t);if(!ie[o.u]){if(n.i)return t;throw new Error(`Cannot decode unrecognized pointer type "${o.u}".`)}for(n.y.push(t);n.y.length;)de(n,n.y.shift());return Object.values(n.w).forEach(e=>{ie[e.u].a(n,e)}),n.w[t].l},ue={encode:ye,decode:ce};export default ue;