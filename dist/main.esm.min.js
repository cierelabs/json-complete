var e=e=>Object.prototype.toString.call(e).slice(8,-1);const r=e=>{const r=[],n={};Array.prototype.forEach.call(e,(e,t)=>{n[String(t)]=1,r.push(t)});let t=0,o=Object.keys(e).filter(e=>!n[e]).concat(Object.getOwnPropertySymbols(e).filter(e=>Symbol[String(e).slice(14,-1)]!==e));return r.concat(o).reduce((r,n)=>(n===t?(t+=1,r.e.push(e[n])):r.n.push([n,e[n]]),r),{e:[],n:[]})},n=(r,n)=>{const t=Object.keys(r.t).find(e=>r.t[e].o(n));if(!t&&!r.a)throw new Error(`Cannot encode unsupported type "${e(n)}".`);return t||"ob"},t=(e,r)=>{(e.t[n(e,r)]||{}).i&&e.y.push(r)};var o=(e,o)=>{const a=n(e,o);if(!e.t[a].i)return a;const i=e.f.get(o);if(void 0!==i)return i.d;e.c[a]=e.c[a]||[],e.c[a].push(void 0);const y=e.c[a].length-1,f=r(o),d={u:a,_:y,d:a+y,l:o,e:e.t[a].p?[]:f.e,n:f.n};return e.f.set(o,d),e.t[a].s&&e.A.push(d),d.e.forEach(r=>{t(e,r)}),d.n.forEach(r=>{t(e,r[0]),t(e,r[1])}),d.d},a=e=>({o:r=>r===e,b:e}),i=a(void 0),y=a(null),f={o:e=>e!=e,b:NaN},d=a(1/0),c=a(-1/0),u={o:e=>0===e&&1/e==-1/0,b:-0},_=a(!0),l=a(!1),p=(r,n)=>({o:t=>e(t)===r&&!(t instanceof n),g:(e,r)=>r.l,S:(e,r,n)=>e.w[r][n],i:()=>{}}),s=p("Number",Number),A=Object.assign({p:1},p("String",String)),b=e=>({u:e.slice(0,2),_:parseInt(e.slice(2),10)}),g=(e,r)=>{if(e.t[r])return e.t[r].b;const n=b(r);return e.t[n.u].S(e,n.u,n._)},E=r=>n=>e(n)===r,S=(e,r)=>"function"===e?r():{o:()=>{}},w=S(typeof Symbol,()=>({o:E("Symbol"),g:(e,r)=>{const n=Symbol.keyFor(r.l),t=void 0!==n;return[o(e,!!t),o(e,t?n:String(r.l).slice(7,-1))]},S:(e,r,n)=>{const t=e.w[r][n],o=g(e,t[1]);return g(e,t[0])?Symbol.for(o):Symbol(o)},i:()=>{}})),U=(e,r)=>[r.e.map(r=>o(e,r))],I=(e,r)=>{if(e.t[r])return e.t[r].b;const n=b(r);if(e.t[n.u])return e.U[r].l;if(e.a)return r;throw new Error(`Cannot decode unrecognized pointer type "${n.u}".`)},m=(e,r,n)=>{n.forEach(n=>{r.l[I(e,n[0])]=I(e,n[1])})},R=(e,r)=>{m(e,r,r.I.slice(1))},v=(e,r)=>({o:E(e),g:U,S:r,i:(e,r)=>{r.I[0].forEach((n,t)=>{r.l[t]=I(e,n)}),R(e,r)}}),F=v("Array",()=>[]),B=v("Arguments",(e,r,n)=>(function(){return arguments}).apply(null,Array(e.w[r][n][0].length))),h={o:E("Object"),g:()=>[],S:()=>({}),i:(e,r)=>{m(e,r,r.I)}},x=(r,n)=>({o:t=>e(t)===r&&t instanceof n,g:(e,r)=>[o(e,r.l.valueOf())],S:(e,r,t)=>new n(g(e,e.w[r][t][0])),i:R}),O=x("Boolean",Boolean),j=x("Number",Number),V=Object.assign({p:1},x("String",String)),M=x("Date",Date),C=(e,r,n)=>({o:E(e),g:r,S:n,i:R}),N=C("RegExp",(e,r)=>[[o(e,r.l.source),o(e,r.l.flags),o(e,r.l.lastIndex)]],(e,r,n)=>{const t=e.w[r][n][0],o=new RegExp(g(e,t[0]),g(e,t[1]));return o.lastIndex=g(e,t[2]),o});const k={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var T=C("Error",(e,r)=>[[o(e,k[r.l.name]?r.l.name:"Error"),o(e,r.l.message),o(e,r.l.stack)]],(e,r,n)=>{const t=e.w[r][n][0],o=new(k[g(e,t[0])]||Error)(g(e,t[1]));return o.stack=g(e,t[2]),o}),$=(e,r)=>({o:E(e),g:(e,r)=>(r.e=Array.from(new Uint8Array(r.l)),U(e,r)),S:(e,n,t)=>{const o=e.w[n][t][0],a=new r(o.length),i=new Uint8Array(a);return o.forEach((r,n)=>{i[n]=g(e,r)}),a},i:R}),z=S(typeof ArrayBuffer,()=>$("ArrayBuffer",ArrayBuffer)),D=S(typeof SharedArrayBuffer,()=>$("SharedArrayBuffer",SharedArrayBuffer)),q=(e,r)=>v(e,(e,n,t)=>new r(e.w[n][t][0].length)),G=S(typeof Int8Array,()=>q("Int8Array",Int8Array)),H=S(typeof Uint8Array,()=>q("Uint8Array",Uint8Array)),J=S(typeof Uint8ClampedArray,()=>q("Uint8ClampedArray",Uint8ClampedArray)),K=S(typeof Int16Array,()=>q("Int16Array",Int16Array)),L=S(typeof Uint16Array,()=>q("Uint16Array",Uint16Array)),P=S(typeof Int32Array,()=>q("Int32Array",Int32Array)),Q=S(typeof Uint32Array,()=>q("Uint32Array",Uint32Array)),W=S(typeof Float32Array,()=>q("Float32Array",Float32Array)),X=S(typeof Float64Array,()=>q("Float64Array",Float64Array)),Y=(e,r,n,t)=>({o:E(e),g:(e,r)=>[Array.from(r.l).map(r=>n(e,r))],S:()=>new r,i:(e,r)=>{r.I[0].forEach(n=>{t(e,r.l,n)}),R(e,r)}}),Z=S(typeof Set,()=>Y("Set",Set,(e,r)=>o(e,r),(e,r,n)=>{r.add(I(e,n))})),ee=S(typeof Map,()=>Y("Map",Map,(e,r)=>[o(e,r[0]),o(e,r[1])],(e,r,n)=>{r.set(I(e,n[0]),I(e,n[1]))})),re=(e,r,n)=>({o:E(e),g:(e,n)=>[[new Uint8Array(0)].concat(r.map(r=>o(e,n.l[r])))],s:(e,r,n)=>{const t=new FileReader;t.addEventListener("loadend",()=>{const a=new Uint8Array(t.result),i=o(e,a),y=b(i);e.c[y.u][y._]=[Array.from(a).map(r=>{const n=o(e,r),t=b(n);return e.c[t.u][t._]=r,n})],e.c[r.u][r._][0][0]=i,n()}),t.readAsArrayBuffer(r.l)},S:(e,r,t)=>{const o=e.w[r][t][0],a=b(o[0]);return n(e,[new Uint8Array(e.w[a.u][a._][0].map(r=>g(e,r)))],o)},i:R}),ne=S(typeof Blob,()=>re("Blob",["type"],(e,r,n)=>new Blob(r,{type:g(e,n[1])}))),te=S(typeof File,()=>re("File",["name","type","lastModified"],(e,r,n)=>new File(r,g(e,n[1]),{type:g(e,n[2]),lastModified:g(e,n[3])})));const oe={un:i,nl:y,na:f,pI:d,nI:c,n0:u,bt:_,bf:l,nm:s,st:A,sy:w,ar:F,ag:B,ob:h,BO:O,NM:j,ST:V,da:M,re:N,er:T,AB:z,SA:D,I1:G,U1:H,C1:J,I2:K,U2:L,I3:P,U3:Q,F3:W,F4:X,Se:Z,Ma:ee,Bl:ne,Fi:te},ae=(e,r)=>{e.c.r=r,e.c.v="1.0.0";const n=Object.keys(e.c).map(r=>[r,e.c[r]]);if("function"!=typeof e.m)return n;e.m(n)};var ie=(e,r)=>{const n={a:(r=r||{}).safeMode,m:r.onFinish,t:oe,f:new Map,y:[],A:[],c:{}},t=o(n,e);if(oe[t])return ae(n,t);for(n.y.push(e);n.y.length;)o(n,n.y.shift());if(n.f.forEach(e=>{n.c[e.u][e._]=oe[e.u].g(n,e),e.n.length>0&&(n.c[e.u][e._]=n.c[e.u][e._].concat(e.n.map(e=>[o(n,e[0]),o(n,e[1])])))}),!(n.A.length>0))return ae(n,t);{if("function"!=typeof r.onFinish){if(n.a)return ae(n,t);throw new Error("Found deferred type, but no onFinish option provided.")}let e=n.A.length;const o=()=>{if(0===(e-=1))return ae(n,t)};n.A.forEach(e=>{oe[e.u].s(n,e,o)})}};const ye=(r,n)=>{"Array"===e(n)?n.forEach(e=>{ye(r,e)}):r.y.push(n)},fe=(r,n)=>{const t=b(n);!oe[n]&&oe[t.u]&&void 0===r.U[n]&&(r.U[n]={u:t.u,_:t._,d:n,l:void 0,I:r.w[t.u][t._]},r.U[n].l=oe[t.u].S(r,t.u,t._),"Array"===e(r.U[n].I)&&ye(r,r.U[n].I))};var de=(e,r)=>{const n={a:(r=r||{}).safeMode,t:oe,w:e.reduce((e,r)=>(e[r[0]]=r[1],e),{}),U:{},y:[]},t=n.w.r;if(oe[t])return oe[t].b;const o=b(t);if(!oe[o.u]){if(n.a)return t;throw new Error(`Cannot decode unrecognized pointer type "${o.u}".`)}for(n.y.push(t);n.y.length;)fe(n,n.y.shift());return Object.values(n.U).forEach(e=>{oe[e.u].i(n,e)}),n.U[t].l},ce={encode:ie,decode:de};export default ce;